<!DOCTYPE html>
<!--[if IE 9]><html class="lt-ie10" lang="zh-cmn-Hans" > <![endif]-->
<html class="no-js" lang="zh-cmn-Hans" >

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FCK plugins 代码高亮插件 for Z-blog | r.4ntix Blue's Noise Player</title>

  <link rel="stylesheet" href="http://antix.blue/theme/css/normalize.css">
  <link rel="stylesheet" href="http://antix.blue/theme/css/foundation.min.css">
  <link rel="stylesheet" href="http://antix.blue/theme/css/typo.css">
  <link rel="stylesheet" href="http://antix.blue/theme/css/pygments.css">
  <link rel="stylesheet" href="http://antix.blue/theme/css/app.css">

  <script src="http://antix.blue/theme/js/vendor/modernizr.js"></script>
</head>

<body>
  <!-- start of header -->
  <header class="contain-to-grid">
    <nav class="top-bar" data-topbar>
      <ul class="title-area">
        <li class="name">
          <h1><a href="http://antix.blue">r.4ntix Blue's Noise Player</a></h1>
        </li>
        <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
      </ul>
      <section class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
          <li><a href="http://antix.blue/about/">About</a></li>
          <li>
            <a href="#">|</a>
          </li>
          <li><a href="https://www.readability.com/r4ntix/">Readability</a></li>
          <li><a href="http://instagram.com/r4ntix">Instagram</a></li>
          <li><a href="https://twitter.com/r4ntix">Twitter</a></li>
          <li><a href="https://plus.google.com/112109872395334308066">Google+</a></li>
        </ul>
      </section>
    </nav>
  </header>
  <!-- end of header -->

  <!-- start of content -->
  <div id="content" class="row">
    <div class="medium-9 large-10 columns">
      <div class="article typo textwrap">
        <h1 class="serif">FCK plugins 代码高亮插件 for Z-blog</h1>
        <!--  -->
<p>其实我很早之前就开始弄上这个了，用了6个多月，也一直没发出来… 太懒了：)</p>
<p>昨天给咱的Z-blog 升级到最新版本，一不注意，把我很多修改过的东西直接覆盖了，其中就包括这个InsertCode 代码高亮插件。在本地弄了一会儿，发现全忘记了，那个汗啊… 看来还是记下来比较好。</p>
<p>首先把insertcode 整个文件夹放在FCK的plugins 文件夹下，在Z-blog 里就是~/admin/FCKeditor/editor/plugins 。然后把fck_editorarea.css 复制到FCKeditor/editor/css 下，直接覆盖。修改FCKeditor/fckconfig.js 文件，在 <code class="js"><span class="nx">FCKConfig</span><span class="p">.</span><span class="nx">Plugins</span><span class="p">.</span><span class="nx">Add</span><span class="p">(</span> <span class="err">‘</span><span class="nx">Media</span><span class="err">’</span><span class="p">,</span> <span class="err">‘</span><span class="nx">zh</span><span class="o">-</span><span class="nx">cn</span><span class="err">’</span> <span class="p">);</span></code> 下面加上如下一行：</p>
<div class="highlight"><pre><span class="nx">FCKConfig</span><span class="p">.</span><span class="nx">Plugins</span><span class="p">.</span><span class="nx">Add</span><span class="p">(</span> <span class="s1">&#39;insertcode&#39;</span> <span class="p">);</span>
</pre></div>
<p>然后修改FCKConfig.ToolbarSets，如下：</p>
<div class="highlight"><pre><span class="nx">FCKConfig</span><span class="p">.</span><span class="nx">ToolbarSets</span><span class="p">[</span><span class="s2">&quot;Default&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;Source&#39;</span><span class="p">,</span><span class="s1">&#39;FontName&#39;</span><span class="p">,</span><span class="s1">&#39;FontSize&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;TextColor&#39;</span><span class="p">,</span><span class="s1">&#39;BGColor&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;Image&#39;</span><span class="p">,</span><span class="s1">&#39;Media&#39;</span><span class="p">,</span><span class="s1">&#39;Flash&#39;</span><span class="p">,</span><span class="s1">&#39;Table&#39;</span><span class="p">,</span><span class="s1">&#39;Smiley&#39;</span><span class="p">,</span><span class="s1">&#39;SpecialChar&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;ShowBlocks&#39;</span><span class="p">,</span><span class="s1">&#39;Preview&#39;</span><span class="p">,</span><span class="s1">&#39;FitWindow&#39;</span><span class="p">],</span>
    <span class="s1">&#39;/&#39;</span><span class="p">,</span>
    <span class="p">[</span><span class="s1">&#39;PasteText&#39;</span><span class="p">,</span><span class="s1">&#39;Templates&#39;</span><span class="p">,</span><span class="s1">&#39;Find&#39;</span><span class="p">,</span><span class="s1">&#39;RemoveFormat&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;Undo&#39;</span><span class="p">,</span><span class="s1">&#39;Redo&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="s1">&#39;Bold&#39;</span><span class="p">,</span><span class="s1">&#39;Italic&#39;</span><span class="p">,</span><span class="s1">&#39;Underline&#39;</span><span class="p">,</span><span class="s1">&#39;StrikeThrough&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;OrderedList&#39;</span><span class="p">,</span><span class="s1">&#39;UnorderedList&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="s1">&#39;Outdent&#39;</span><span class="p">,</span><span class="s1">&#39;Indent&#39;</span><span class="p">,</span><span class="s1">&#39;Blockquote&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;JustifyLeft&#39;</span><span class="p">,</span><span class="s1">&#39;JustifyCenter&#39;</span><span class="p">,</span><span class="s1">&#39;JustifyRight&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;Link&#39;</span><span class="p">,</span><span class="s1">&#39;Unlink&#39;</span><span class="p">,</span><span class="s1">&#39;Rule&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;Subscript&#39;</span><span class="p">,</span><span class="s1">&#39;Superscript&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="s1">&#39;InsertCode&#39;</span><span class="p">]</span>   <span class="c1">// No comma for the last row.</span>
<span class="p">];</span>

<span class="nx">FCKConfig</span><span class="p">.</span><span class="nx">ToolbarSets</span><span class="p">[</span><span class="s2">&quot;Basic&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;Source&#39;</span><span class="p">,</span><span class="s1">&#39;Bold&#39;</span><span class="p">,</span><span class="s1">&#39;Italic&#39;</span><span class="p">,</span><span class="s1">&#39;TextColor&#39;</span><span class="p">,</span><span class="s1">&#39;Image&#39;</span><span class="p">,</span><span class="s1">&#39;Link&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="s1">&#39;InsertCode&#39;</span><span class="p">]</span>
<span class="p">];</span>
</pre></div>
<p>最后，千万别忘记修改FCKeditor/editor/lang 下的语言文件，我就是忘记这个了。在语言文件（zh-cn.js &amp; en.js）里修改如下：</p>
<div class="highlight"><pre><span class="c1">// About Dialog</span>
<span class="nx">DlgAboutAboutTab</span>    <span class="o">:</span> <span class="s2">&quot;关于&quot;</span><span class="p">,</span>
<span class="nx">DlgAboutBrowserInfoTab</span>  <span class="o">:</span> <span class="s2">&quot;浏览器信息&quot;</span><span class="p">,</span>
<span class="nx">DlgAboutLicenseTab</span>  <span class="o">:</span> <span class="s2">&quot;许可证&quot;</span><span class="p">,</span>
<span class="nx">DlgAboutVersion</span>     <span class="o">:</span> <span class="s2">&quot;版本&quot;</span><span class="p">,</span>
<span class="nx">DlgAboutInfo</span>        <span class="o">:</span> <span class="s2">&quot;要获得更多信息请访问 &quot;</span><span class="p">,</span>
<span class="nx">InsertCodeBtn</span>   <span class="o">:</span>   <span class="s2">&quot;插入代码&quot;</span>
<span class="p">};</span>
</pre></div>
<p>最后，在模板文件里加上：</p>
<div class="highlight"><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;/admin/FCKeditor/editor/plugins/insertcode/insertcode.css&quot;</span><span class="nt">&gt;</span>
</pre></div>
<p>OK 了，清空浏览器的缓存，开始FCK编辑吧.. ～～</p>

      </div>
    </div>
    <div class="hide-for-small-only medium-3 large-2 columns">
      <ul class="side-nav">
        <li><time datetime="2008-12-08T00:00:00+08:00" class="serif">2008年12月08日</time></li>
        <li class="divider"></li>
        <li><span class="serif">Written by</span> <a href="#">r.4ntix Shawn</a></li>
        <li class="divider"></li>
        <li><span class="serif">Categories</span> <a href="#">Writings</a></li>
        <li class="divider"></li>
        <li><span class="serif">Tags</span> <a href="#">hack</a> <a href="#">zblog</a> <a href="#">fck</a> </li>
      </ul>
    </div>
  </div>
  <!-- end of content -->

  <!-- start of footer -->
  <footer class="row">
    <div class="small-6 medium-6 large-6 columns">
      <small>
        Designed and Created(2005-2014) by <a href="http://antix.blue/about/">r.4ntix Shawn</a>
        <br />
        ✎ Time waits for no one.
      </small>
    </div>
    <div class="small-6 medium-6 large-6 columns">
      <small class="right">
        Help from <a href="http://blog.getpelican.com/">Pelican</a> and <a href="http://foundation.zurb.com/">Foundation 5</a> and <a href="http://typo.sofish.de/">Typo.css</a>
        <br />
        ☂ Hosting on <a href="https://github.com/">GitHub</a> and <a href="https://gitcafe.com/">GitCafe</a>
      </small>
    </div>
  </footer>
  <!-- end of footer -->

  <script src="http://antix.blue/theme/js/vendor/jquery.js"></script>
  <script src="http://antix.blue/theme/js/foundation.min.js"></script>
  <script>
    $(document).foundation();
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47845863-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>

</html>