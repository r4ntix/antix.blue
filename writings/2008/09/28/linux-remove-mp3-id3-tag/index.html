<!DOCTYPE html>
<!--[if IE 9]><html class="lt-ie10" lang="zh-cmn-Hans" > <![endif]-->
<html class="no-js" lang="zh-cmn-Hans" >

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>linux 下mp3 显示乱码 | r.4ntix Blue's Noise Player</title>

  <link rel="stylesheet" href="http://antix.blue/theme/css/normalize.css">
  <link rel="stylesheet" href="http://antix.blue/theme/css/foundation.min.css">
  <link rel="stylesheet" href="http://antix.blue/theme/css/typo.css">
  <link rel="stylesheet" href="http://antix.blue/theme/css/pygments.css">
  <link rel="stylesheet" href="http://antix.blue/theme/css/app.css">

  <script src="http://antix.blue/theme/js/vendor/modernizr.js"></script>
</head>

<body>
  <!-- start of header -->
  <header class="contain-to-grid">
    <nav class="top-bar" data-topbar>
      <ul class="title-area">
        <li class="name">
          <h1><a href="http://antix.blue">r.4ntix Blue's Noise Player</a></h1>
        </li>
        <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
      </ul>
      <section class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
          <li><a href="http://antix.blue/about/">About</a></li>
          <li>
            <a href="#">|</a>
          </li>
          <li><a href="https://www.readability.com/r4ntix/">Readability</a></li>
          <li><a href="http://instagram.com/r4ntix">Instagram</a></li>
          <li><a href="https://twitter.com/r4ntix">Twitter</a></li>
          <li><a href="https://plus.google.com/112109872395334308066">Google+</a></li>
        </ul>
      </section>
    </nav>
  </header>
  <!-- end of header -->

  <!-- start of content -->
  <div id="content" class="row">
    <div class="medium-9 large-10 columns">
      <div class="article typo textwrap">
        <h1 class="serif">linux 下mp3 显示乱码</h1>
        <p>我的audacious，还有其他的一些音乐播放器对于一些mp3 的标题一直显示乱码，全是ID3 tag 惹的祸。一气之下，批量删除mp3 的ID3 tag 之。</p>
<div class="highlight"><pre><span class="c">#!/bin/bash</span>

<span class="c"># 需要安装mid3v2 ， 执行sudo apt-get install python-mutagen</span>

<span class="nb">help</span><span class="o">()</span>
<span class="o">{</span>
    cat <span class="s">&lt;&lt; HELP</span>
<span class="s">        deltag -- can delete tag of mp3</span>

<span class="s">        USAGE: deltag [-h] folder</span>
<span class="s">        OPTIONS: -h help text</span>
<span class="s">        EXAMPLE: deltag &quot;/home/Xuange/Music/&quot;</span>

<span class="s">        ==&gt;will delete all tag of mp3 from /home/Xuange/Music/  !</span>
<span class="s">        (: 能自动遍历所有子目录中的mp3文件。:)</span>

<span class="s">    HELP</span>
    <span class="nb">exit </span>0
<span class="o">}</span>

error<span class="o">()</span>
<span class="o">{</span>
    <span class="c"># print an error and exit</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
    <span class="nb">exit </span>1
<span class="o">}</span>

<span class="c"># the main</span>
<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$#&quot;</span><span class="s2"> -lt 1 ]; then</span>
<span class="s2">    help</span>
<span class="s2">fi</span>

<span class="s2">while [ -n &quot;</span><span class="nv">$1</span><span class="s2">&quot; ]; do</span>
<span class="s2">    case </span><span class="nv">$1</span><span class="s2"> in</span>
<span class="s2">        -h) help;shift;; # function help is called</span>
<span class="s2">        --) shift;break;; # end of options</span>
<span class="s2">        -*) error &quot;</span>error: no such option <span class="nv">$1</span>. -h <span class="k">for</span> <span class="nb">help</span><span class="s2">&quot;;;</span>
<span class="s2">        *) break;;</span>
<span class="s2">    esac</span>
<span class="s2">done</span>

<span class="s2">if [ -d &quot;</span><span class="nv">$1</span><span class="s2">&quot; ]; then</span>
<span class="s2">    echo &quot;</span>deleting tag of mp3 ....<span class="s2">&quot;</span>
<span class="s2">    find &quot;</span><span class="nv">$1</span><span class="s2">&quot; -name &quot;</span>*.<span class="o">[</span>Mm<span class="o">][</span>Pp<span class="o">]</span>3<span class="s2">&quot; -type f -print | sed &#39;s/^/&quot;</span>/<span class="p">;</span>s/<span class="nv">$/</span><span class="s2">&quot;/&#39; | xargs mid3v2 -D</span>
<span class="s2">else</span>
<span class="s2">    error &quot;</span>error: no such dir <span class="nv">$1</span>. -h <span class="k">for</span> <span class="nb">help</span><span class="s2">&quot;</span>
<span class="s2">fi</span>

<span class="s2">exit 0</span>
</pre></div>

      </div>
    </div>
    <div class="hide-for-small-only medium-3 large-2 columns">
      <ul class="side-nav">
        <li><time datetime="2008-09-28T00:00:00+08:00" class="serif">2008年09月28日</time></li>
        <li class="divider"></li>
        <li><span class="serif">Written by</span> <a href="#">r.4ntix Shawn</a></li>
        <li class="divider"></li>
        <li><span class="serif">Categories</span> <a href="#">Writings</a></li>
        <li class="divider"></li>
        <li><span class="serif">Tags</span> <a href="#">ubuntu</a> <a href="#">linux</a> <a href="#">mp3</a> <a href="#">id3tag</a> </li>
      </ul>
    </div>
  </div>
  <!-- end of content -->

  <!-- start of footer -->
  <footer class="row">
    <div class="small-6 medium-6 large-6 columns">
      <small>
        Designed and Created(2005-2015) by <a href="http://antix.blue/about/">r.4ntix Shawn</a>
        <br />
        ✎ Time waits for no one.
      </small>
    </div>
    <div class="small-6 medium-6 large-6 columns">
      <small class="right">
        Help from <a href="http://blog.getpelican.com/">Pelican</a> and <a href="http://foundation.zurb.com/">Foundation 5</a> and <a href="http://typo.sofish.de/">Typo.css</a>
        <br />
        ☂ Hosting on <a href="https://github.com/">GitHub</a> and <a href="https://gitcafe.com/">GitCafe</a>
      </small>
    </div>
  </footer>
  <!-- end of footer -->

  <script src="http://antix.blue/theme/js/vendor/jquery.js"></script>
  <script src="http://antix.blue/theme/js/foundation.min.js"></script>
  <script>
    $(document).foundation();
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47845863-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>

</html>