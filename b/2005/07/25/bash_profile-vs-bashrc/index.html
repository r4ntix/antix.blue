<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <!-- Standard Meta -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <!-- Site Properties -->
  <title>.bash_profile vs .bashrc | Antix Blue&#39;s Noise Player</title>
  
<link rel="stylesheet" type="text/css" href="../../../../../static/pygments.css">

  <link rel="stylesheet" type="text/css" href="../../../../../static/app.css?h=1748ebc5">
</head>
<body>
  <!-- start of header -->
  <header id="header" class="ui inverted segment">
    <div class="ui stackable centered grid container">
      <div class="row">
        <div class="twelve wide column">
          <div class="ui container inverted secondary pointing menu">
            <a href="../../../../../" id="logo" class="item">
              Antix Blue&#39;s Noise Player
            </a>
            <div class="right menu">
              
                <a href="../../../../../about/" class="item">About</a>
              
              <span class="item">|</span>
              
                <a href="http://antix.blue/rock/bash_profile-vs-bashrc/https:/www.instagram.com/r4ntix" class="item">Instagram</a>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>
  <!-- start of header -->

  <!-- start of content -->
  
  <article id="content" class="ui stackable centered grid container typo">
    <div class="row">
      <div class="twelve wide column">
        <h1 id="title" class="serif">
          .bash_profile vs .bashrc
        </h1>
        <div class="ui two column grid">
          <div class="column">
            <h5 id="pub-date" class="ui grey sub header">发行日期：<time>2005年07月25日</time></h5>
          </div>
          <div class="right aligned column">
            <div class="ui horizontal link list">
              
              <a class="item">
                #linux
              </a>
              
              <a class="item">
                #unix
              </a>
              
              <a class="item">
                #mac
              </a>
              
              <a class="item">
                #bash
              </a>
              
              <a class="item">
                #shell
              </a>
              
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="twelve wide column">
        
<p>本文为翻译文，原文地址如下：</p>
<blockquote><p><a href="http://www.joshstaiger.org/archives/2005/07/bash_profile_vs.html">http://www.joshstaiger.org/archives/2005/07/bash_profile_vs.html</a></p>
</blockquote>
<p>译文如下：</p>
<p>每当我工作在Linux、Unix 以及Mac OS X 下，想要为我的shell 设置PATH 和其他环境变量的时候，我总是忘记我究竟该编辑哪个bash 配置文件。应该编辑「.bash_profile」还是「.bashrc」呢？</p>
<p>实际上，你可以把你的bash 配置写到这两个配置文件中的任意一个，它们不存在的话则创建它。但是，为什么会存在两个不同的配置文件呢？他们的区别是什么呢？</p>
<p>根据bash 的 <a href="http://linux.die.net/man/1/bash">man page</a> 说明，「.bash_profile」是在使用<strong>登录式shell</strong>的时候执行的，而「.bashrc」则是在使用<strong>交互式非登录shell</strong>时执行。</p>


<div class="ui section divider"></div>


<h2 class="serif">什么是「登录式shell」和「交互式非登录shell」？</h2>
<p>每当你直接坐在电脑前或者是远程使用ssh 通过console 使用账号和密码进行登录时：「.bash_profile」将在初始化命令提示符之前执行，完成shell 的配置。</p>
<p>但是，如果你已经登录你的电脑，在图形界面Gnome 或者KDE 下打开一个终端窗口(xterm)，这时「.bashrc」将在这个窗口命令提示符初始化之前执行，以完成shell 的配置。同时，当你在一个终端里执行 <code>/bin/bash</code> 时，「.bashrc」也将被执行。</p>


<div class="ui section divider"></div>


<h2 class="serif">为什么会存在两个不同的配置文件？</h2>
<p>有时候，你想在你每次登录机器时，打印出机器的一些诊断信息(平均负载、内存使用率、当前用户等)，你可以通过配置「.bash_profile」来完成。</p>
<p>但是，如果你使用「.bashrc」来配置的话，则会在每次打开终端窗口时都打印出这些信息来，而不仅仅只是在登录的时候。</p>


<div class="ui section divider"></div>


<h2 class="serif">Mac OS X —— 一个列外</h2>
<p>Mac OS X 的Terminal.app 终端程序是个例外。</p>
<p>它对每个新建的终端窗口，都默认以<strong>登录式shell</strong>方式打开，然后执行「.bash_profile」而不是「.bashrc」。虽然其他的GUI 终端模拟器也可以这样，但基本都不这么干。</p>


<div class="ui section divider"></div>


<h2 class="serif">建议</h2>
<p>大多数情况下没有人愿意同时维护两个不同的配置文件，来分别应对<strong>登录式shell</strong>和<strong>交互式非登录shell</strong>——这样的话，当你想设置PATH 时，你得同时在两个文件里都配置。其实，你可以通过在「.bash_profile」里引用「.bashrc」，然后在「.bashrc」里进行PATH 和其他配置。</p>
<p>将下面几行代码添加到你的「.bash_profile」文件里：</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">[</span> -f ~/.bashrc <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">source</span> ~/.bashrc
<span class="k">fi</span>
</pre></div>
<p>现在当你通过console 进行<strong>登录式shell</strong>时，「.bashrc」也将被执行了。</p>


      </div>
    </div>
  </article>

  <!-- end of content -->

  <!-- start of footer -->
  <div class="ui divider"></div>
  <footer id="footer" class="ui stackable centered grid container">
    <div class="row">
      <div class="twelve wide column">
        <div class="ui two column grid">
          <small class="column">
            Designed and Created(2005-2016) by <a href="../../../../../about/">r.4ntix Blue</a>
            <br />
            ✎ Time waits for no one.
          </small>
          <small class="right aligned column">
            Help from <a href="https://www.getlektor.com/">Lektor</a> and <a href="http://semantic-ui.com/">Semantic UI</a>
            <br />
            ☂ Hosting on <a href="https://github.com/">GitHub</a>
          </small>
        </div>
      </div>
    </div>
  </footer>
  <!-- end of footer -->

  <!-- start of script -->
  <div class="ga-script">
<div id="ga-script"></div>
<script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-47845863-1', 'auto');
        ga('send', 'pageview');
</script>
</div>
  <!-- end of script -->
</body>
</html>
