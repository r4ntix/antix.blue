<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>r.4ntix Blue's Noise Player</title><link>http://antix.blue/</link><description></description><atom:link href="http://antix.blue/feeds/r4ntix-shawn.rss.xml" rel="self"></atom:link><lastBuildDate>Sun, 24 Aug 2014 00:00:00 +0800</lastBuildDate><item><title>rbenv/pyenv #1 eval "$(pyenv init -)" 做了什么</title><link>http://antix.blue/writings/2014/08/24/rbenv-pyenv-init/</link><description>&lt;!--  --&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;概述&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/yyuu/pyenv"&gt;pyenv&lt;/a&gt; 是我日常开发过程中常用来管理python 版本和virtualenv 的工具。甚至可以说，我几乎每天都在使用了 &lt;a class="reference external" href="https://github.com/yyuu/pyenv"&gt;pyenv&lt;/a&gt; 的bash 环境下工作。&lt;/p&gt;
&lt;p&gt;其实 &lt;a class="reference external" href="https://github.com/yyuu/pyenv"&gt;pyenv&lt;/a&gt; 是从fork &lt;a class="reference external" href="https://github.com/sstephenson/rbenv"&gt;rbenv&lt;/a&gt; 而来，两者的核心代码完全一致。&lt;a class="reference external" href="https://github.com/sstephenson/rbenv"&gt;rbenv&lt;/a&gt; 是用来管理ruby environment 的，其作者是 &lt;a class="reference external" href="https://basecamp.com"&gt;Basecamp&lt;/a&gt; 的 &lt;a class="reference external" href="https://github.com/sstephenson"&gt;Sam Stephenson&lt;/a&gt; 。&lt;/p&gt;
&lt;p&gt;有趣的是，rbenv/pyenv 是纯shell 脚本实现的，不依赖于ruby/python 本身。具体的实现过程也很精巧。现在基于Linux 的开发的工作，也基本上都绕不开python。就我所在的团队，包括测试的同学，也都开始使用 &lt;a class="reference external" href="https://github.com/yyuu/pyenv"&gt;pyenv&lt;/a&gt; 来管理python 环境。&lt;/p&gt;
&lt;p&gt;所以，是时候来更加的深入了解rbenv/pyenv 了。&lt;/p&gt;
&lt;p&gt;在这里，我将以 &lt;a class="reference external" href="https://github.com/yyuu/pyenv"&gt;pyenv&lt;/a&gt; 为例，分几篇文章来描述rbenv/pyenv 核心代码的具体实现，但是并不涉及ruby-build、pyenv-build 这样的plugin 实现。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;文件结构&lt;/h2&gt;
&lt;p&gt;如下图，pyenv 的文件结构是这样的：&lt;/p&gt;
&lt;img alt="pyenv structure" class="th" src="http://antix.blue/writings/2014/08/24/rbenv-pyenv-init/pyenv.png" style="width: 50%;" /&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;shims 是pyenv 和用户交互的接口层。&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first last"&gt;这里面存放了我们平时在pyenv shell 环境下所执行的python、pip 等命令文件。当然，这些名为python、pip 的命令文件「并不是真正的python、pip 执行文件」，而是负责命令中转调度的binstub files。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;versions 是存放各个python 版本文件的地方。&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first last"&gt;里面存放了我们installed 的「真正的python、pip 等文件」。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;libexec 是pyenv 的核心代码目录。&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;bin/pyenv 则直接软连接到了libexec/pyenv。我们平时所执行的 &lt;code class="bash"&gt;pyenv *&lt;/code&gt; 的命令，实际上最后都调用了libexec/pyenv-* 文件（除plugin/&lt;em&gt;/bin/pyenv-&lt;/em&gt; 命令之外）。&lt;/p&gt;
&lt;p class="last"&gt;比如我们执行 &lt;code class="bash"&gt;pyenv init -&lt;/code&gt; 则实际调用为 &lt;code class="bash"&gt;libexec/pyenv-init -&lt;/code&gt; 。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;plugin 是存放plugin 的目录。&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;pyenv 安装时自带了一个叫做python-build 的plugin。它提供了我们安装和卸载python 时所用的 &lt;code class="bash"&gt;pyenv install&lt;/code&gt;、 &lt;code class="bash"&gt;pyenv uninstall&lt;/code&gt; 这两个命令。&lt;/p&gt;
&lt;p class="last"&gt;其他更多的插件，可看 &lt;a class="reference external" href="https://github.com/yyuu/pyenv/wiki/Plugins"&gt;Plugins wiki page&lt;/a&gt; ，这里面的 &lt;code class="bash"&gt;pyenv-virtualenv&lt;/code&gt; 插件可以用来管理virtualenv 环境。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;hooks 并不存在叫做hooks 的目录。但是却是pyenv 很有用的一个功能。&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;pyenv 提供了3个hook 点，分别为 &lt;code class="bash"&gt;&lt;span class="nb"&gt;exec&lt;/span&gt;&lt;/code&gt;、 &lt;code class="bash"&gt;rehash&lt;/code&gt;、 &lt;code class="bash"&gt;which&lt;/code&gt;。当在执行 &lt;code class="bash"&gt;pyenv-exec&lt;/code&gt;、 &lt;code class="bash"&gt;pyenv-rehash&lt;/code&gt;、 &lt;code class="bash"&gt;pyenv-which&lt;/code&gt; 时，则会调用hook files。&lt;/p&gt;
&lt;p&gt;这些hook files，可存放的目录为：&lt;/p&gt;
&lt;div class="last"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;plugins/*/etc/pyenv.d:&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;PYENV_HOOK_PATH&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;:&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;PYENV_ROOT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/pyenv.d:/usr/local/etc/pyenv.d:/etc/pyenv.d:/usr/lib/pyenv/hooks
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;completions 是存放shell completion 的目录。&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first last"&gt;目前支持的shell 为：bash、fish、zsh。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="section" id="pyenv-init"&gt;
&lt;h2&gt;pyenv-init&lt;/h2&gt;
&lt;p&gt;在安装完pyenv 之后，根据安装提示，我们需要在shell 的配置文件里，加入几行配置代码。以bash 为例：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;export &lt;/span&gt;&lt;span class="nv"&gt;PYENV_ROOT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;&lt;span class="s2"&gt;/.pyenv&amp;quot;&lt;/span&gt;
&lt;span class="nb"&gt;export &lt;/span&gt;&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$PYENV_ROOT&lt;/span&gt;&lt;span class="s2"&gt;/bin:&lt;/span&gt;&lt;span class="nv"&gt;$PATH&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;pyenv init -&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其中前两行export 指令，设置了pyenv 的路径，并添加到我们的已有PATH 的最前面，以便我们执行pyenv 时，系统能自动从该路径下找到pyenv。&lt;/p&gt;
&lt;p&gt;而最后一行 &lt;code class="bash"&gt;&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;pyenv init -&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;/code&gt; 正是魔法的开始，pyenv 的初始化隐藏其中。&lt;/p&gt;
&lt;p&gt;让我们来具体看看libexec/pyenv-init 的代码。&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;获取到当前的shell name。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -z &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$shell&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
  &lt;span class="nv"&gt;shell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;ps c -p &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$PPID&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; -o &lt;span class="s1"&gt;&amp;#39;ucomm=&amp;#39;&lt;/span&gt; 2&amp;gt;/dev/null &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
  &lt;span class="nv"&gt;shell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;shell&lt;/span&gt;&lt;span class="p"&gt;##-&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
  &lt;span class="nv"&gt;shell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;shell&lt;/span&gt;&lt;span class="p"&gt;%% *&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
  &lt;span class="nv"&gt;shell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;basename &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;shell&lt;/span&gt;&lt;span class="k"&gt;:-&lt;/span&gt;&lt;span class="nv"&gt;$SHELL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ol class="arabic simple" start="2"&gt;
&lt;li&gt;创建shims、versions 目录。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mkdir -p &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;PYENV_ROOT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;shims,versions&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ol class="arabic simple" start="3"&gt;
&lt;li&gt;打印设置shims path 到我们的$PATH 最前面。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;:&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;:&amp;quot;&lt;/span&gt; !&lt;span class="o"&gt;=&lt;/span&gt; *:&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;PYENV_ROOT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/shims&amp;quot;&lt;/span&gt;:* &lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
  &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$shell&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; in
  fish &lt;span class="o"&gt;)&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;setenv PATH &amp;#39;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;PYENV_ROOT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/shims&amp;#39; \$PATH&amp;quot;&lt;/span&gt;
  &lt;span class="p"&gt;;;&lt;/span&gt;
  * &lt;span class="o"&gt;)&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;export PATH=&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;PYENV_ROOT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/shims:${PATH}&amp;quot;&amp;#39;&lt;/span&gt;
  &lt;span class="p"&gt;;;&lt;/span&gt;
  &lt;span class="k"&gt;esac&lt;/span&gt;
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这样的话，当我们输入执行python、pip 等命令时，shell 就会首先到shims 目录去寻找了。&lt;/p&gt;
&lt;ol class="arabic simple" start="4"&gt;
&lt;li&gt;设置PYENV_SHELL 环境变量。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$shell&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; in
fish &lt;span class="o"&gt;)&lt;/span&gt;
  &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;setenv PYENV_SHELL &lt;/span&gt;&lt;span class="nv"&gt;$shell&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;;;&lt;/span&gt;
* &lt;span class="o"&gt;)&lt;/span&gt;
  &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;export PYENV_SHELL=&lt;/span&gt;&lt;span class="nv"&gt;$shell&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;;;&lt;/span&gt;
&lt;span class="k"&gt;esac&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ol class="arabic simple" start="5"&gt;
&lt;li&gt;打印shell completion。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;completion&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;root&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/completions/pyenv.&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;shell&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -r &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$completion&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
  &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$shell&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; in
  fish &lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;. &amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$completion&lt;/span&gt;&lt;span class="s2"&gt;&amp;#39;&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;;;&lt;/span&gt;
  *    &lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;source &amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$completion&lt;/span&gt;&lt;span class="s2"&gt;&amp;#39;&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;;;&lt;/span&gt;
  &lt;span class="k"&gt;esac&lt;/span&gt;
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ol class="arabic simple" start="6"&gt;
&lt;li&gt;根据参数判断打印是否rehash。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -z &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$no_rehash&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
  &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;pyenv rehash 2&amp;gt;/dev/null&amp;#39;&lt;/span&gt;
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class="bash"&gt;pyenv rehash&lt;/code&gt; 是pyenv 代码实现中最为核心的部分，它的作用是在shims 目录下生成正确的binstub files。&lt;/p&gt;
&lt;ol class="arabic simple" start="7"&gt;
&lt;li&gt;打印一个名叫 &lt;strong&gt;pyenv&lt;/strong&gt; 的shell 函数。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# example for bash&lt;/span&gt;

&lt;span class="nv"&gt;commands&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;pyenv-commands --sh&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
cat &lt;span class="s"&gt;&amp;lt;&amp;lt;EOS&lt;/span&gt;
&lt;span class="s"&gt;pyenv() {&lt;/span&gt;
&lt;span class="s"&gt;  local command&lt;/span&gt;
&lt;span class="s"&gt;  command=&amp;quot;\$1&amp;quot;&lt;/span&gt;
&lt;span class="s"&gt;  if [ &amp;quot;\$#&amp;quot; -gt 0 ]; then&lt;/span&gt;
&lt;span class="s"&gt;    shift&lt;/span&gt;
&lt;span class="s"&gt;  fi&lt;/span&gt;

&lt;span class="s"&gt;  case &amp;quot;\$command&amp;quot; in&lt;/span&gt;
&lt;span class="s"&gt;  ${commands[*]})&lt;/span&gt;
&lt;span class="s"&gt;    eval &amp;quot;\`pyenv &amp;quot;sh-\$command&amp;quot; &amp;quot;\$@&amp;quot;\`&amp;quot;;;&lt;/span&gt;
&lt;span class="s"&gt;  *)&lt;/span&gt;
&lt;span class="s"&gt;    command pyenv &amp;quot;\$command&amp;quot; &amp;quot;\$@&amp;quot;;;&lt;/span&gt;
&lt;span class="s"&gt;  esac&lt;/span&gt;
&lt;span class="s"&gt;}&lt;/span&gt;
&lt;span class="s"&gt;EOS&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;!--  --&gt;
&lt;ol class="arabic" start="8"&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;eval &amp;quot;$(pyenv init -)&amp;quot; 执行 &lt;code class="bash"&gt;pyenv init -&lt;/code&gt; 打印出来的代码。&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first last"&gt;这里非常关键，在我们执行 &lt;code class="bash"&gt;&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;pyenv init -&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;/code&gt; 时，最终eval 的正是 &lt;code class="bash"&gt;pyenv-init&lt;/code&gt; echo 出来的各个语句。而在第七部步时 &lt;code class="bash"&gt;pyenv-init&lt;/code&gt; echo 了一个名为 &lt;strong&gt;pyenv&lt;/strong&gt; 的shell 函数。最终被eval 解析执行。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;到这里我们已经明白，原来每次我们在bash 输入执行的pyenv 实际上都是这个叫做 &lt;strong&gt;pyenv&lt;/strong&gt; 的shell 函数！&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="pyenv-shell"&gt;
&lt;h2&gt;名为pyenv 的shell 函数&lt;/h2&gt;
&lt;p&gt;在这个名为 &lt;strong&gt;pyenv&lt;/strong&gt; 的shell 函数里，实际上将我们执行的 &lt;code class="bash"&gt;pyenv *&lt;/code&gt; 命令分为了两类：&lt;/p&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;rehash|shell&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first last"&gt;当我们执行 &lt;code class="bash"&gt;pyenv rehash&lt;/code&gt;、 &lt;code class="bash"&gt;pyenv shell&lt;/code&gt; 时，通过eval 解析执行 &lt;code class="bash"&gt;libexec/pyenv-sh-rehash&lt;/code&gt;、 &lt;code class="bash"&gt;libexec/pyenv-sh-shell&lt;/code&gt; 命令输出的内容。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;others&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first last"&gt;除 &lt;code class="bash"&gt;rehash&lt;span class="p"&gt;|&lt;/span&gt;shell&lt;/code&gt; 之外的 &lt;code class="bash"&gt;pyenv *&lt;/code&gt; 命令，通过command 传递给实际的libexec/pyenv 调度相应的 &lt;code class="bash"&gt;pyenv-*&lt;/code&gt; 执行。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;关于 &lt;code class="bash"&gt;&lt;span class="nb"&gt;command&lt;/span&gt;&lt;/code&gt; 这个命令，是忽略shell 函数的，所以能正确的传递给真实的libexec/pyenv 执行：&lt;/dt&gt;
&lt;dd&gt;Runs command with arguments ignoring any shell function named command. Only shell builtin commands or commands found by searching the PATH are executed.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;所以，当我们挥动手指，敲打出 &lt;code class="bash"&gt;pyenv *&lt;/code&gt; 命令并按下回车键时，在shell 里的实际执行流程为：&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;pyenv shell function&lt;/li&gt;
&lt;li&gt;bin/pyenv(libexec/pyenv)&lt;/li&gt;
&lt;li&gt;libexec/pyenv-*&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;就像是魔法一样。&lt;/p&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Sun, 24 Aug 2014 00:00:00 +0800</pubDate><guid>tag:antix.blue,2014-08-24:writings/2014/08/24/rbenv-pyenv-init/</guid><category>rbenv</category><category>pyenv</category><category>bash</category><category>shell</category></item><item><title>我为什么反对团队使用公共旺旺</title><link>http://antix.blue/writings/2013/10/27/why-i-oppose-use-of-public-wangwang/</link><description>&lt;dl class="docutils"&gt;
&lt;dt&gt;注：&lt;/dt&gt;
&lt;dd&gt;公共旺旺是指不属于个人的旺旺帐号，作为团队服务、咨询、沟通的IM 入口，阿里内部很多团队都启用了团队公共旺旺。类似于淘宝店里的「客服1, … ,客服4」这样的客服旺旺。作为一个壳，也可称之为：虚拟旺旺。&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;写在前面：&lt;/p&gt;
&lt;blockquote&gt;
新团队成立后不久，老板和同事曾提议过是否我们团队也启用公共旺旺，我拒绝了。这篇文章按计划，本应该出现在8月初周末的团队内部邮件中，可突如其来的故障以及团队发生的变动，让我一直无暇顾及此事。之后花了很长一段时间，我试图重新整理了自己的想法，和家人、朋友聊天、讨论那看起来仍然遥不可及的幻想未来。虽然「计划」是一件极其不可靠的东西，可是很高兴我终究下定了决心，于是现在可以轻松的来聊些什么了。希望聊得愉快 :)&lt;/blockquote&gt;
&lt;p&gt;在阿里的3年里，有2年的时间我所在的团队一直在使用公共旺旺。按照Oncall 制度，Oncall 的同学需要使用公共旺旺对外提供IM(Instant Messenger)服务。公共旺旺的帐号一般就是团队名，客户有需要的时候就直接旺这个帐号。一切看似都很不错，服务入口统一，对客户来说只要记住这个公共旺旺的名字即可。&lt;/p&gt;
&lt;p&gt;于是，在这2年的时间里，我帮DBA 取过快递、搬过自行车，帮SA 清理过服务器磁盘，帮很多客户处理过很多需求。可当我面对面和他们聊天说起这些的时候，我才惊讶的发现原来他们根本不知道是谁真真正正在背后为他们提供服务，在他们的脑子里只记得是某某团队的兄弟。去年开始，我所在的团队合并到集团后，看到越来越多的团队开始启用公共旺旺，不仅是运维，连业务开发部门也是。然后，我也开始享受当客户的滋味，通过公共旺旺找他们处理这样、那样的需求。当这么做了几个月后，我突然发现我根本不知道究竟是谁帮了我…想来想去，也没地方可查，那么…就忘记吧。于是，大家都养成了不在意的习惯，在这样的相互忘记中，不停的为对方做着事情。&lt;/p&gt;
&lt;p&gt;4月份，我离开待了2年的团队，和老板成立了新团队，负责一块几乎要和任何技术团队打交道的业务。我们直接面对用户，用自己的旺旺帐号和用户沟通、交流，即便我们也开始执行Oncall 轮班制度，我们也依然保持如此。7月底，日常工作日，我们收到了一封来自业务团队的感谢邮件，标题是「YC和XX，两位同学，赞！」邮件发给了我们团队的老板，业务团队老板，随即又发给了我们部门的负责人(副总裁)，以及业务部门负责人和业务团队邮件列表。Boom! 这是我在阿里的这3年时间里，第一次见到这样的感谢邮件。不可思议，人和人的关系，就这样建立起来了。之后每每和这些业务部门开会见面时，他们都会说原来你就是XX，谢谢之前的帮忙…&lt;/p&gt;
&lt;p&gt;我想说的是什么：&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;公共旺旺，虽然统一了服务的入口，可是无法建立起人与人之间的关系。&lt;/li&gt;
&lt;li&gt;利用好个人旺旺的状态标签和自动回复，帮助用户快速的找到Oncall 同学，依然达到了统一服务入口的目的。&lt;/li&gt;
&lt;li&gt;难道就没更好的方式吗？我们在思考，也在做。&lt;/li&gt;
&lt;li&gt;运维不是空气，更不是机器。我们关注服务，更应该关注人与人之间的联系。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;PS: 想起来很有意思，和我建立起关系，并一直保持联系的同事，有从网上认识的，有同事介绍的，有做项目打交道的；但是，没有一位是因为公共旺旺上沟通而认识的 :)&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Sun, 27 Oct 2013 00:00:00 +0800</pubDate><guid>tag:antix.blue,2013-10-27:writings/2013/10/27/why-i-oppose-use-of-public-wangwang/</guid><category>work</category></item><item><title>有时候我也会去想想风</title><link>http://antix.blue/writings/2013/08/17/think-of-wind/</link><description>&lt;p&gt;杜鲁门·卡波特的短篇小说「关上最后一扇门」的结尾是这么一句话：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;「于是他把头埋进枕头里，用双手把耳朵捂住，这样想：去想无关紧要的事。去想想风吧。」&lt;/p&gt;
&lt;p&gt;「think of nothing things, think of wind.」&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;就像村上春树说到每次有什么难过的事或悲伤的事时，他总是自然的想起这段文字一样，最近我也开始不由自主的想起这句话来，然后去想想无关紧要的事，去想想风吧。&lt;/p&gt;
&lt;p&gt;我对风的概念的起始，除了小学时每周一的升旗仪式红旗飘飘之外，大抵就要属小时候不知从什么时候起，突然流行起来的放风筝了。那时候，我家住二楼，阳台的正下面是两个并列的篮球场，水泥地，很宽敞；阳台的正对面，篮球场的另一面是一块巨大的放映墙，比现在电影院里的IMAX 屏幕还大，每周五的晚上都会在这片场地上放露天电影，用那个半自动的会发出一道光芒的胶片放映机；篮球场的侧面是一个类似于剧场的舞台，两边有通告栏，每当节假日时，就组织各种唱歌跳舞活动，我自然也参加过。简而言之，住在那里的人们正是以这块球场为中心而生存并且生活起来的。内敛并且丰富。&lt;/p&gt;
&lt;p&gt;不知从什么时候，在那片球场中突然出现了风筝，一个两个，越来越多。然后在那个吃完晚饭的日子，去球场踢球的我，看到满天的风筝和地面上奔跑、欢笑、密密麻麻的人时，第一次体验到了风的威力。风筝飞得再远，也有一根线，由一个人牵引着，这样既为幸福。哪怕风再大，也吹不走被你紧握着的我。&lt;/p&gt;
&lt;p&gt;然后我也买了一个风筝，准确的说不止一个，但究竟买过多少已然记不清楚了。在那段时光里，每天吃完晚饭后，便拿着风筝蹦蹦跳跳的去球场上放，让风筝飞得远远的，在夕阳落山的时候再把它收回来。&lt;/p&gt;
&lt;p&gt;仅有的一次和朋友不满于在球场上放风筝的高度，便跑到山上去放。两个人相互配合，一个人拿着风筝，一个人握着线，逆着风。拿着风筝的人把风筝往风中轻轻的一放，握着线的我逆着风跑两步，风筝便飘了起来。山上的风很大，风筝越飞越远，越变越小。那一次，夕阳依旧西落，但风筝却已无法收回。越用力握紧，它越痛苦，最后我们咬断手中的线，让它自由。我们是在那个时候明白的吗？有些东西，我们始终无法抓住。&lt;/p&gt;
&lt;p&gt;再后来就再也没有放过风筝了。没有什么特别的原因，只是再也没有机会放了而已。&lt;/p&gt;
&lt;p&gt;工作后来到杭州，第一次感受到梅雨过后台风入境。风大的时候，伞都无法撑开。有一次下班回家，竟看到水果摊旁的那种大的落地伞被吹上二楼的情景，令人印象深刻。那时还在身边的同事，那样的傻笑，现在想起来的竟是如此的灿烂。&lt;/p&gt;
&lt;p&gt;我们是被生活推着走的？还是被风吹着走的？我发出这样的提问。能一边想着风，一边发出这样的提问，只能在这么一段时期，这么一种心绪下才行，至少我是这么认为的。&lt;/p&gt;
&lt;p&gt;二零一三年八月十七日&lt;/p&gt;
&lt;p&gt;晚，二十一点十九分&lt;/p&gt;
&lt;p&gt;于，有猫在咖啡店&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Sat, 17 Aug 2013 00:00:00 +0800</pubDate><guid>tag:antix.blue,2013-08-17:writings/2013/08/17/think-of-wind/</guid><category>life</category><category>work</category></item><item><title>就让那不切实际的想法不切实际吧</title><link>http://antix.blue/writings/2013/08/16/unrealistic-notions/</link><description>&lt;p&gt;最近很难得的有机会和曾经在同一团队共事的前辈(太过于熟悉，这么说反而有点别扭)聊天。两次下来，他就开始说我最近「不切实际」的想法有点多，还说要赶紧把我扭转过来之类的。&lt;/p&gt;
&lt;p&gt;其实，在我看来，人类总会在某些时候，在某些机遇或者说是遭遇的背景下，反思自己所面对的一切，试图找到现存问题最本质的根源，并以此寻求解决之道。&lt;/p&gt;
&lt;p&gt;当把事情简单化，鼓起勇气与不安挑战，舍弃多余的东西时，我们反而发现并找到了对自己来说最重要的东西的存在。&lt;/p&gt;
&lt;p&gt;人类的历史进程也大概如此，在朝着脑子里理想化的世界迈进的同时，不断的被自我的世界碾压，然后变得坚韧起来。经历得越多，越加的变得坚韧。集群效应带动着这个庞大的集体究竟将走向哪里？去到怎么样的一个世界？沉默个体的反思，总会在某个恰当时刻反过来影响这个世界，产生震荡。&lt;/p&gt;
&lt;p&gt;现在的中国，正以夸张的步伐，急冲冲的迈向某个不知是好是坏的世界，喧闹无比。当我故意放慢脚步的时候，发现周围的人像火箭一样从我的身边冲出去。那样速度和力量，会让我想象，如果在前方撞上了一堵墙，会是怎么样的一副情景。&lt;/p&gt;
&lt;p&gt;时间安排上比较空闲的时候，我会去街上走一走，以自我的脚步和这片土地亲近。大街、小巷，在干净繁华和杂乱肮脏的对立面，我试图找到被我们埋在脚下，藏在过去的属于这个国家民族的文化所在。或许只有我们的想法真真正正的根植于这片土地和文化的时候，我们去向的世界才是值得的，我们的想法才不是不切实际的。&lt;/p&gt;
&lt;p&gt;有时候我也会走进死胡同，这时候我只需要回头，去想想那些不切实际的想法，它们总是在这样的时候发挥着它们应有的威力。&lt;/p&gt;
&lt;p&gt;我想，我最近正好遇到了这么一个机遇，该让我静下心来好好想一想了。与此同时，就让那不切实际的想法继续的不切实际吧。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Fri, 16 Aug 2013 00:00:00 +0800</pubDate><guid>tag:antix.blue,2013-08-16:writings/2013/08/16/unrealistic-notions/</guid><category>life</category><category>work</category></item><item><title>把这样的难题留给身边的人</title><link>http://antix.blue/writings/2013/07/13/what-kind-of-person-do-you-think-i-am/</link><description>&lt;p&gt;几天前，和一个朋友聊天，诚实的说是和我喜欢的女孩聊天。她说到她觉得的她自己是一个怎样的人，我简单的想了一下，然后回了一句：“我也差不多。”这不是遮掩，简单的来说我觉得的确如此，虽然我也觉得不仅如此。或许和她想的太过于不一致，转而她说起了她觉得我是怎样的一个人，从她所见到的、感觉、星座。于是我也开始努力的思考起自己究竟是什么样的，想到了一个词，或许接近，但又太过于模糊，更加的不好解释。就像是在描述一件具体的事物，而我为此披加了一层薄雾来形容它。&lt;/p&gt;
&lt;p&gt;要说我有没有思考过自己，那自然是肯定有的。但是已经无法追述是在什么时候放弃这一思考的。只是在那个我终究无法想清楚的时候，我开始根本不去想了解我自己的事情。&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;“你就那么不了解自己吗？”&lt;/li&gt;
&lt;li&gt;“嗯，非常！”我诚实的回答道。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2008年的时候，傅蕾说我的每个阶段她都看得很清楚。周璇也说过类似的话语，说她曾去猜我的理想是什么，开一家公司，计算机，或者别的什么；原话我已经记不太清楚了，大体上是这样。可是，在我觉得好像真是这样的时候，我发现自己又完全不是这样。我突然理解到「乖戾」一词，从某个角度上来说，就是和自己格格不入。&lt;/p&gt;
&lt;p&gt;7月2号，下班时间，18点30分左右，和一个认识超过十年的好友聊天。他突然说道三个字：“软饼干”。他说第一次听说Limp Bizkit 这个乐队，是我在高一时告诉他的，也是我高一认识的一个女孩介绍给我的。我脑子一片空白，完全没有任何印象，甚至对他说道：“咦，还有这样的事情？”在记忆里搜索了一番，发现除了那时喜欢不上的U2，以及迷恋的Nirvana 之外，别无所获。他说：“我记忆最清楚的就是Limp Bizkit 绿色那张专辑，一个光头绿人呐喊那张。你貌似买过？不知道。”，然后附加的说道：“你大学就听些傻了吧唧的演唱会Live”。&lt;/p&gt;
&lt;p&gt;那天晚上回家之前，我往IPod 里灌入了100首Limp Bizkit 的歌，还有封面是个光头绿人呐喊那张专辑。听了第一首「Behind Blue Eyes」，我便沉默不语。整个回家的路上都在听这首歌，看那个光头绿人在IPod 的屏幕上呐喊。带着帽子，面无表情，沉默不语，不知道该看向哪里。如此模样，身边一起回家的同事自然也没靠近和我说话。&lt;/p&gt;
&lt;p&gt;晚上11点，朋友发信息问：“你是不是有心事？”，“更年期到了。”我什么都没想便回答到。&lt;/p&gt;
&lt;p&gt;“我究竟是一个怎样的人？”，我决定把这样的难题留给身边的人。倘若有人接纳了这样对自己莫名其妙的我，我知道这么说有点过分，但是如果说真的有一点点稍稍喜欢上的话，那我将会非常的高兴！&lt;/p&gt;
&lt;p&gt;写在后面：&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;7月12日，阳光明媚的上午，IPod 循环播放着The Beatles 的「Norwegian Wood」，坐上去往公司的公交车，突然想写点什么。&lt;/li&gt;
&lt;li&gt;7月13日，中午，风很大，台风过境下雨前夕，吃完菲力牛排和一些通心粉，连续喝了两杯意式特浓咖啡，听着「Norwegian Wood」，写下这些，然后离去。&lt;/li&gt;
&lt;/ul&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Sat, 13 Jul 2013 00:00:00 +0800</pubDate><guid>tag:antix.blue,2013-07-13:writings/2013/07/13/what-kind-of-person-do-you-think-i-am/</guid><category>life</category></item><item><title>有多少工作是需要马上完成的</title><link>http://antix.blue/writings/2012/12/03/the-urgency-of-the-work/</link><description>&lt;p&gt;有多少工作是需要马上完成的？&lt;/p&gt;
&lt;p&gt;
在一家比较大的&lt;del&gt;互联网&lt;/del&gt;公司做了两年的一线运维工作后，我越来越清晰的意识到一个问题，那就是「实际上没有多少工作是需要马上完成的」。
&lt;/p&gt;&lt;p&gt;即便对于故障、攻击等急迫等级比较高的事件，每当我们好好分析一下此类事件背后产生的原因和运维工程师所应提前部署的预防措施之后，我们便会发现这些事情本应该避免或者应有更加好的方式去处理甚至预防解决。&lt;/p&gt;
&lt;p&gt;运维是一个需要长期运营、精打细磨并且富有预见性质的工作。而不是跟着某些业务项目的节奏来一个短期冲刺，加班、熬夜、紧急配合业务方处理问题，这些只会使运维工程师们忙于眼前，精疲力尽。运维系统和人，需要的是系统的成长和可持续的经营，而不是像某些没自信的业务方那样急需某些成果来证明自己。&lt;/p&gt;
&lt;p&gt;想想看，一台机器down 了，要求你立马重启，即便还有其他机器可提供服务；某台机器需要安装某个软件，要求你立马解决，即便只是台备机；某老板要看某些数据报表，要求你立马产出。每个找到运维工程师的人的每个请求，看起来都是很急迫的事情；可这些事情真的是需要马上完成的吗？&lt;/p&gt;
&lt;p&gt;不妨停下来，把某些请求以某些借口推脱掉，你会发现这些请求对于请求方来说也变得不再那么急迫了。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Mon, 03 Dec 2012 00:00:00 +0800</pubDate><guid>tag:antix.blue,2012-12-03:writings/2012/12/03/the-urgency-of-the-work/</guid><category>work</category></item><item><title>读「白」</title><link>http://antix.blue/writings/2012/11/30/read-white/</link><description>&lt;p&gt;这两天读了原研哉的「白」。&lt;/p&gt;
&lt;p&gt;这样的书读起来总是内心满满，那些文字和观点带来的思考一个又一个的不停的蹦出来，读完之后又好像什么都没抓住一般。但我知道，这样的书总会随着生活与阅历的成长在某时某刻，突然的让我明白和理解些什么；就像在几年前最初阅读余华的「温暖和百感交集的旅程」和「音乐影响了我的写作」时一样。在很久很久之后再次阅读它们时，我知道它们和我已经永远的在一起了。&lt;/p&gt;
&lt;p&gt;「白」、「温暖和百感交集的旅程」和「音乐影响了我的写作」，本是不同时期不同行业的作品，却都神奇的向我们透露了怎么去接近美的核心品质，感受美的品质，享受美所带来的感动，不管视角是从颜色还是文字还是音乐；「美的核心品质」以一种全所未有的创造性和想象力的方式，立体的向我们走来，和我们相遇。&lt;/p&gt;
&lt;blockquote&gt;
「当我沉思于一物，此物即变得崭新而不同，就如同我刚刚初次遇见它一样。」&lt;/blockquote&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Fri, 30 Nov 2012 00:00:00 +0800</pubDate><guid>tag:antix.blue,2012-11-30:writings/2012/11/30/read-white/</guid><category>design</category></item><item><title>Butter Fly</title><link>http://antix.blue/writings/2012/11/16/butter-fly/</link><description>&lt;p&gt;两天前在bilibili.tv 听到了Butterfly 的Piano 版本，「数码宝贝」作为初中时期最喜欢看的动画片之一，现在想起来已经没有太多的记忆了，想起的只是那时在外读书两点一线的备考生活，身边朋友的打闹和欢笑，对未来的幻想与害怕，还有那对谁的思念。这首OP 所描述的不正是这样一个故事吗？&lt;/p&gt;
&lt;p&gt;在分别很久很久之后，再次听到这首歌曲，再次想起那时还在身边的朋友们。或许这就是人与人之间所谓的羁绊吧。&lt;/p&gt;
&lt;p style="height:452px;"&gt;
    &lt;embed height="452" width="544" quality="high" allowfullscreen="true" type="application/x-shockwave-flash" src="http://static.hdslb.com/miniloader.swf" flashvars="aid=8568%26page=1" pluginspage="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash"&gt;&lt;/embed&gt;
&lt;/p&gt;&lt;!--  --&gt;
&lt;blockquote&gt;
在这无限延伸的梦想后面，现在的你还会选择去穿越这冷酷无情的世界吗？&lt;/blockquote&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Fri, 16 Nov 2012 00:00:00 +0800</pubDate><guid>tag:antix.blue,2012-11-16:writings/2012/11/16/butter-fly/</guid><category>time</category><category>life</category></item><item><title>那个关于民谣的故事</title><link>http://antix.blue/writings/2010/08/02/a-story-about-ballad/</link><description>&lt;p class="text-right" style="height:33px;"&gt;
    &lt;embed src="http://www.xiami.com/widget/0_3562504/singlePlayer.swf" type="application/x-shockwave-flash" width="257" height="33" wmode="transparent"&gt;&lt;/embed&gt;
&lt;/p&gt;&lt;p&gt;最近有那么一段零碎的时间，漫不经心的在听一些民谣似的歌曲。却让我惊诧的想起，自己曾经有那么一个关于民谣的故事。&lt;/p&gt;
&lt;p&gt;很久很久以前，身边有那么一个自己看来几乎是八杆子打不着的女朋友。我亦然已经想不起，我和她是怎么相遇的。却意外的对她所向我说的一些话语，印象深刻。那一次，我们在她家里聊天，她突然很安静的和我说：“我很喜欢民谣，也很喜欢唱民谣，就是那么的喜欢。”，我记得那是一个阳光明媚的下午。可我却不能在记忆里找到，她曾在我面前唱起民谣时的情景，尽管我用尽了我所有的力气去寻找。&lt;/p&gt;
&lt;p&gt;那个夏日的午后，我们常在她家里举办一些小型的聚会，4、5个人。我们一起烤出那些看起来和吃起来都不怎么好吃的东西，却吃得很欢乐，每次都吃得满满而归。然后回到家，饱得吃不下家里的晚饭。在她家，我们一起打游戏；一起把她家那些花花草草搬来搬去。她说：“我的房间是不允许男孩进去的，因为我不在家的时候，我的姥姥会住在这里；但你是例外。”；是的，我看到了，但那时的我无法看懂那间屋子。她会和我说起她的姥姥，尽管我从来没见到过，现在想起来当时的我甚至无法判断她的姥姥是否还在世上。上晚自习的时候，她喜欢坐在我后面一排的座位上，然后叫我转过头去和她说话。那时的我还不喜欢看书，而她已经看过很多。在她家的时候，我曾看到过好多当时的我听都没听说过的书籍，她从未向我提起。我知道她喜欢写字，不是她告诉我的，是我看到的，她写字时的平静如水。&lt;/p&gt;
&lt;p&gt;很多时候，她给我的印象是大大咧咧的，擅长应对所有的事情。按照那时的说法，像个大姐头。我不喜欢这样的她，我心里这样说。可令我想不明白的是，每当我们在一起时，她却显得安静许多。那时，我分辨不出哪个才是真实的她。她是至今唯一一个让我写下日记的女孩，很遗憾因为某些原因，那本日记没写完就被烧毁了，我记得那是我一个人干的。现在想起来幸运的是，从此我再也没烧毁过我写下的字语。我自然已经记不得那本日记里写下了些什么，但我看得到那时的我的笔迹和满脸的欢喜，在心里。&lt;/p&gt;
&lt;p&gt;后来，在大学里，我有那么一两次和身边的朋友提到过她。说我曾经认识一个特别特别聪明的女孩。她知道怎么应对围绕在周围的坏男孩；也知道怎么表达真实的自己，对身边的人。&lt;/p&gt;
&lt;p&gt;我想，有时候她会突然的哭起来，我知道那一定是因为她看到了一尘不染的事物，那般无暇。&lt;/p&gt;
&lt;p&gt;我是后来才明白这些的，对于这些可遇而不可求的人。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Mon, 02 Aug 2010 00:00:00 +0800</pubDate><guid>tag:antix.blue,2010-08-02:writings/2010/08/02/a-story-about-ballad/</guid><category>time</category><category>life</category></item><item><title>Time waits for no one</title><link>http://antix.blue/writings/2010/06/25/time-waits-for-no-one/</link><description>&lt;p&gt;当真琴，当我曾试图窥视这个世界时，我们无法判断展现在我们眼前的是什么；时间像平坦的道路一样不停的延伸，消失，不见；身边的人和故事如同光影一般映在我们的脸庞。我们曾一度以为，身边的一切都会如同四季交替，日月变更那般不断重复的永恒。&lt;/p&gt;
&lt;p&gt;我们挥霍的看着，看着这个我们置身其中的世界。甚至不愿意去触动一丁点的改变，不在乎去接受别人，也不在乎去靠近别人。很多时候只想避开那一切，给自己带来的困扰。我们从未想过，那些躲避了的困扰，反而困扰了别的什么。直到有一天，我们突然的发现，时间与世界一直在向前走着；不是不断的重复交替，而是转瞬即逝的变更。&lt;/p&gt;
&lt;p&gt;我们回不去了，那个曾经窥探的，让我们置身其中的世界。&lt;/p&gt;
&lt;p&gt;于是。&lt;/p&gt;
&lt;p&gt;我很努力的去想，却始终无法想出，我所要的究竟是什么。就如同站在远方的我，看到了那份美好，却无法看清那份美好是什么。有时候，我会想起一些发生了的，或许又从未发生过的故事，我不记得在什么时候什么地方看到过，同样也不记得它描述了些什么... 实际上，只让我想起，我忘记了它而已。拒绝掉那些别人想要给予的东西，然后闭上眼睛，不知道看向哪里。&lt;/p&gt;
&lt;p&gt;那些曾经以为会永远在一起的人们，那个曾经认为会一直陪伴着的自己。希望再次遇到你时，你抬起额头看着远方，身上闪耀着太阳般的光芒。我想，那便是我所想要的。&lt;/p&gt;
&lt;blockquote&gt;
Time waits for no one. 时不待人。&lt;/blockquote&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Fri, 25 Jun 2010 00:00:00 +0800</pubDate><guid>tag:antix.blue,2010-06-25:writings/2010/06/25/time-waits-for-no-one/</guid><category>time</category><category>acg</category></item><item><title>Transmission 1.8 Magnet磁力链接</title><link>http://antix.blue/writings/2010/01/23/transmission1.8-magnet/</link><description>&lt;p&gt;海盗湾事件过去很久了，天朝也开始大量河蟹 BT，ACG 网站，一瞬间让我觉得似乎回到了几年前电驴被封的那个时代，于是乎大家分分大呼将要迎来BT2.0时代。这个当然是必然的趋势，看看电驴的KAD 就知道了。&lt;/p&gt;
&lt;p&gt;电驴活了下来，BT 也不会死。&lt;/p&gt;
&lt;p&gt;不知道从什么时候BT 冒出来了个“Magnet 磁力链接”。简单的说，它就是类似于电驴链接地址的东西，而不用下载BT 种子。直接的说，你以后用BT 下载，既不需要Tracker 服务器，也不需要torrent 文件，仅需要一串字符就可以进行文件下载。&lt;/p&gt;
&lt;p&gt;话从，我今天下载动画片说起，“极影”的BT 站老是连接不上啊，要么连接上站点了，种子文件死活下载不下来。去“动谩花园”看了看，于是乎就想起了“Magnet 磁力链接”。巧了，Transmission 从1.8版本开始支持“Magnet 磁力链接”，我在getdeb 已经跟新到了1.8版本。&lt;/p&gt;
&lt;p&gt;使用“Magnet 磁力链接”下载的话，就简单了。在”动谩花园“一点击Magnet，Transmission 就自动弹出来了，确认下载。开始的1分钟左右，是在通过DHT&amp;amp;PEX 找寻peer，1分钟过后，我的下载速度已经稳定在了500kb/s 左右，下载到70%的时候，我的速度已经稳定在1mb/s了，当然这和我的网络有关系。但“Magnet 磁力链接”已经初显威力，DHT&amp;amp;PEX 的模式的确很好的实现了“去中心化下载”，并且找寻peer 的速度很快。相比之下电驴的KAD，找寻的速度貌似要慢很多。当然，DHT&amp;amp;PEX&amp;amp;KAD 都是一个思想下的产物。稍微了解了一下，可以很明显的看到DHT&amp;amp;PEX 的算法思想和现实网络中的“路由选择算法”非常相似，internet 真是奇妙。&lt;/p&gt;
&lt;p&gt;咯… 等我反应过来，想要截图的时候，我的动画片已经下载完袄，做种上传中…&lt;/p&gt;
&lt;p&gt;PS:&lt;/p&gt;
&lt;p&gt;Transmission 从1.75版本开始，我个人就觉得相当的赞了，也就是从1.75版本开始我抛弃了一直使用的“奔流”。这次刚发布的1.8版本，更是相当的不错。几项功能我相当的满意，比如“Magnet 磁力链接”，监视文件夹自动添加种子(这点我相当的喜欢)，支持DHT&amp;amp;PEX，支持加密连接，支持过滤列表，支持UPNP&amp;amp;NAT-PMP，WEB 管理，等等功能。并且程序是用C 写的，效率，占用资源等等，做得很不错!&lt;/p&gt;
&lt;p&gt;PSS:&lt;/p&gt;
&lt;p&gt;在迅雷和快车的客服论坛都看到有网友在询问支持“Magnet 磁力链接”的问题，相信再过不久，大家都会迎来BT2.0时代。据我所知，除了“动谩花园”，其他一些BT 站点也开始在试点支持“Magnet 磁力链接”，没办法，天朝B 的。&lt;/p&gt;
&lt;p&gt;PSSS:&lt;/p&gt;
&lt;p&gt;这几年BT 的发展和电驴的发展真的很相似，电驴就是”前车之鉴“哇。哇卡卡。&lt;/p&gt;
&lt;p&gt;很多事情真的要有人B 你，你才能取得进步，几年前的电驴就是这样，现在轮到BT 了。&lt;/p&gt;
&lt;p&gt;PSSSS:&lt;/p&gt;
&lt;p&gt;哇，今天23号了！&lt;/p&gt;
&lt;p&gt;Fate/stay night Unlimited Blade Works
魔法少女リリカルなのは The MOVIE 1st
遊☆戯☆王 ～超融合！時空（とき）を越えた絆～&lt;/p&gt;
&lt;p&gt;3部剧场版今天同时上映！！！ 等待了好久，OY！ 我先洗洗睡了，躺在床上看动画片。^_^&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Sat, 23 Jan 2010 00:00:00 +0800</pubDate><guid>tag:antix.blue,2010-01-23:writings/2010/01/23/transmission1.8-magnet/</guid><category>transmission</category><category>bt</category><category>magnet</category></item><item><title>2009——挥霍与珍惜原来是同一件事情</title><link>http://antix.blue/writings/2009/12/31/i-2009/</link><description>&lt;p&gt;2009年的最后一天，懒散的看完了《CANAAN》的最后一话。&lt;/p&gt;
&lt;p&gt;18:00出门去洗澡，习惯了每年的最后一天去洗澡，同样也喜欢上了这样的安排。&lt;/p&gt;
&lt;p&gt;最后一顿饭是杂酱面，洗澡回来的路上一个人去吃的。煮面的姐姐端面上来说：“我帮你多煮了一些，不知道你吃得完不。”    “还可以吧。”，我说。吃完了，没忘记笑着说上一句：“刚好吃完，嘿嘿”，以表得意。&lt;/p&gt;
&lt;p&gt;对于2010年，我还是挺期待的，毕竟要离开校园了，新的生活即将开始，或许还会遇上一些稀奇古怪的人。&lt;/p&gt;
&lt;p&gt;2009年，挥霍与珍惜原来是同一件事情。&lt;/p&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;生活&lt;/h2&gt;
&lt;p&gt;记不得上半年干了些啥了。总之，我宅了。&lt;/p&gt;
&lt;p&gt;4，也许是5月份，开始玩9c的FIFA online 2 ，认识了很多游戏上的朋友；&lt;/p&gt;
&lt;p&gt;6月份，参加了贵州FIFA联盟的线下比赛，哇嘎嘎，不好意思得了第一名，奖品若干；&lt;/p&gt;
&lt;p&gt;暑假回家，看余华的小说；好好看了几场球赛，现在的意甲真难看；&lt;/p&gt;
&lt;p&gt;10月份，松哥，飞哥，还有俺，终于出去旅游了哇。去了松哥的家乡，铜仁；&lt;/p&gt;
&lt;p&gt;在梵净山山顶，待了一夜，看见了梦幻的云朵，夕阳，流星，日出；&lt;/p&gt;
&lt;p&gt;话说我被松哥4点叫起来看日出，黑漆漆的深夜3个人在山顶，顶着狂风＆寒冷站了2个小时才看到日出，死的心都有了；&lt;/p&gt;
&lt;p&gt;还去了凤凰，真是适合生活的地方，如果旅游的人能少点的话；还想再去一次；&lt;/p&gt;
&lt;p&gt;国庆后，删除了FIFA online 2，开始玩FM2009，等待FM2010；最后FM2010 也悲剧了；&lt;/p&gt;
&lt;p&gt;看了很多很多的动画片，多得我数不过来。哭了个稀巴烂。&lt;/p&gt;
&lt;p&gt;做了两年的兼职，结束了。蹭服务器用的日子，也结束了 ;(&lt;/p&gt;
&lt;p&gt;Reforget.Timelog 搬到了思跃无限，把域名也备了案。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h2&gt;学习&lt;/h2&gt;
&lt;p&gt;看完了《Linux程序设计》，突然发现Gnome/GTK 方面的中文文档真的很少；&lt;/p&gt;
&lt;p&gt;也跟着书上的代码例子，像模像样的写了点东西；&lt;/p&gt;
&lt;p&gt;忍不住，还是把Ubuntu从8.04 升级到了9.04。&lt;/p&gt;
&lt;p&gt;看了一部分《TCP/IP详解卷1》，至今也没看完；&lt;/p&gt;
&lt;p&gt;断断续续，我开始挥霍时间了；&lt;/p&gt;
&lt;p&gt;把Ubuntu从9.04 升级到了9.10，变化真大啊；&lt;/p&gt;
&lt;p&gt;有些东西有需求的时候，没去写；开始着手去写的时候，发现自己没需求了；就挂在那里；&lt;/p&gt;
&lt;p&gt;《Unix环境高级编程》放在书架上半年了，没翻开过，或许已经是一层灰了；&lt;/p&gt;
&lt;p&gt;要开始毕业设计了，完全不知道自己想干嘛。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h2&gt;爱情&lt;/h2&gt;
&lt;p&gt;挥霍与珍惜原来是同一件事情。&lt;/p&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Thu, 31 Dec 2009 00:00:00 +0800</pubDate><guid>tag:antix.blue,2009-12-31:writings/2009/12/31/i-2009/</guid><category>myself</category><category>life</category></item><item><title>undefined reference to `gzopen64′?</title><link>http://antix.blue/writings/2009/04/07/undefined-reference-to-gzopen64/</link><description>&lt;p&gt;最近在学习GTK＋，尝试自己写一个有UI 的C/S 程序的时候。编译代码产生错误如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;/usr/bin/../lib/libxml2.so.2: undefined reference to &lt;span class="sb"&gt;`&lt;/span&gt;gzopen64′
collect2: ld 返回 1
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;/usr/lib/libxml2.so.2 没有gzopen64函数的定义？奇怪。那好，跟进这个文件看看：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;ls -l /usr/lib/libxml2.so.2
    lrwxrwxrwx &lt;span class="m"&gt;1&lt;/span&gt; root root &lt;span class="m"&gt;17&lt;/span&gt; 2008-11-19 10:28 /usr/lib/libxml2.so.2 -&amp;gt; libxml2.so.2.6.31
ls -l /usr/lib/libxml2.so.2.6.31
    -rw-r--r-- &lt;span class="m"&gt;1&lt;/span&gt; root root &lt;span class="m"&gt;1171112&lt;/span&gt; 2008-11-19 03:16 /usr/lib/libxml2.so.2.6.31
strings /usr/lib/libxml2.so.2.6.31 &lt;span class="p"&gt;|&lt;/span&gt; grep gzopen64
    gzopen64        &lt;span class="c"&gt;# 发现了gzopen64的字符串，奇怪。继续..&lt;/span&gt;
ldd /usr/lib/libxml2.so.2.6.31
    linux-gate.so.1 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt;  &lt;span class="o"&gt;(&lt;/span&gt;0xb7fb7000&lt;span class="o"&gt;)&lt;/span&gt;
    libdl.so.2 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/tls/i686/cmov/libdl.so.2 &lt;span class="o"&gt;(&lt;/span&gt;0xb7e7e000&lt;span class="o"&gt;)&lt;/span&gt;
    libz.so.1 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/lib/libz.so.1 &lt;span class="o"&gt;(&lt;/span&gt;0xb7e69000&lt;span class="o"&gt;)&lt;/span&gt;    &lt;span class="c"&gt;# 注意这个so动态库&lt;/span&gt;
    libm.so.6 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/tls/i686/cmov/libm.so.6 &lt;span class="o"&gt;(&lt;/span&gt;0xb7e43000&lt;span class="o"&gt;)&lt;/span&gt;
    libc.so.6 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/tls/i686/cmov/libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;0xb7cf4000&lt;span class="o"&gt;)&lt;/span&gt;
     /lib/ld-linux.so.2 &lt;span class="o"&gt;(&lt;/span&gt;0xb7fb8000&lt;span class="o"&gt;)&lt;/span&gt;
ls -l /usr/lib/libz.so.1
    lrwxrwxrwx &lt;span class="m"&gt;1&lt;/span&gt; root root &lt;span class="m"&gt;15&lt;/span&gt; 2009-04-06 22:36 /usr/lib/libz.so.1 -&amp;gt; libz.so.1.2.3.3
ls -l /usr/lib/libz.so.1.2.3.3
    -rw-r--r-- &lt;span class="m"&gt;1&lt;/span&gt; root root &lt;span class="m"&gt;81240&lt;/span&gt; 2007-11-15 20:08 /usr/lib/libz.so.1.2.3.3
strings /usr/lib/libz.so.1.2.3.3 &lt;span class="p"&gt;|&lt;/span&gt; grep gzopen64
    gzopen64   &lt;span class="c"&gt;# 确定gzopen64是包含在这个文件里&lt;/span&gt;
objdump -T /usr/lib/libz.so.1.2.3.3 &lt;span class="p"&gt;|&lt;/span&gt; grep gzopen64
    &lt;span class="m"&gt;00004040&lt;/span&gt; g    DF .text  0000001b  Base        gzopen64      &lt;span class="c"&gt;# 很明显的可以看到这个gzopen64是定义了的。&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这就奇怪， 难道是一个reference lookup error? 本人环境Ubuntu 8.04.2 ，libxml2 为apt-get 最新的库文件。&lt;/p&gt;
&lt;p&gt;find 搜索一下本地的libz*，发现自己机子的/opt/ 里还有一个libz.so.1.2.3。/opt/ 里放的是我本地LAMP 的开发环境(xampp的开发包)。刚好，就把libxml2 连接过来算了。gcc 编译的时候加上一句-L/opt /lampp/lib/ -lxml2 编译通过。&lt;/p&gt;
&lt;p&gt;googled：&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://bugs.launchpad.net/ubuntu/+source/libxml2/+bug/151045"&gt;https://bugs.launchpad.net/ubuntu/+source/libxml2/+bug/151045&lt;/a&gt; # 不过这个bug 报告被标记为：Invalid&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://hi.baidu.com/linux%5Flfs/blog/item/3f19abdf9d615315485403ec.html"&gt;http://hi.baidu.com/linux%5Flfs/blog/item/3f19abdf9d615315485403ec.html&lt;/a&gt; # 另外一种情况&lt;/li&gt;
&lt;/ul&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Tue, 07 Apr 2009 00:00:00 +0800</pubDate><guid>tag:antix.blue,2009-04-07:writings/2009/04/07/undefined-reference-to-gzopen64/</guid><category>gtk</category><category>c</category><category>program</category><category>linux</category></item><item><title>error while loading shared libraries?</title><link>http://antix.blue/writings/2009/03/17/error-while-loading-shared-libraries/</link><description>&lt;p&gt;最近在看mysql 的api。用C 写和mysql 交互的代码，用的是xampp-linux-devel-1.7 包，全部的lib 和include 都放在了/opt 下面。编译时指定include 和lib 搜索位置都没问题。可在程序运行时./connect 时，出错：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;./connect: error &lt;span class="k"&gt;while&lt;/span&gt; loading shared libraries: libmysqlclient.so.15.0.0:cannot open shared object file: No such file or directory
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;查了一下，是ld(动态装载器)找不到libmysqlclient.so.15.0.0 的所在位置。解决办法：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo touch /etc/ld.so.conf.d/mysql.conf
sudo gedit /etc/ld.so.conf.d/mysql.conf
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在里面写上libmysqlclient.so.15.0.0 所在的目录位置就可以，比如：/opt/lampp/lib/mysql 保存后，执行sudo ldconfig -v 就可以了。&lt;/p&gt;
&lt;p&gt;.so 动态库的解决办法都一样 :)&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Tue, 17 Mar 2009 00:00:00 +0800</pubDate><guid>tag:antix.blue,2009-03-17:writings/2009/03/17/error-while-loading-shared-libraries/</guid><category>linux</category><category>c</category><category>program</category><category>mysql</category></item><item><title>Ubuntu Upstart 基于事件的启动进程</title><link>http://antix.blue/writings/2009/01/08/ubuntu-upstart-event-based-init-daemon/</link><description>&lt;p&gt;昨晚上在看《开源世界的旅行手册》的时候，其「II.地理——第15章 基本系统——启动流程」中描述到：&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;读取MBR 的信息，启动Boot Manager&lt;/li&gt;
&lt;li&gt;加载系统内核，启动init 进程&lt;/li&gt;
&lt;li&gt;init 进程读取/etc/inittab 文件中的信息，并进入预设的运行级别，按顺序运行该运行级别对应文件夹下的脚本。脚本通常以start 选项启动，并指向一个系统中的程序。&lt;/li&gt;
&lt;li&gt;根据/etc/rcS.d/ 文件夹中对应的脚本启动Xwindow 服务器xorg&lt;/li&gt;
&lt;li&gt;启动登录管理器，等待用户登录&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;注意第3条，我在ubuntu 8.04 上并没有发现所谓的/etc/inittab 文件，在网上找了一些资料知道从ubuntu 6.10 开始，ubuntu 已经开始用Upstart 取代了传统的System V 的init daemon (Sysvinit)。于是随着这个好奇，找了一些资料了解到下一代init 程序，如：Upstart，initng 的发展，及其优势。主要看了Upstart 的资料，从官网上看，目前Upstart 的用户包括了：&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Ubuntu 6.10 and later&lt;/li&gt;
&lt;li&gt;Fedora 9 and later&lt;/li&gt;
&lt;li&gt;Debian experimental&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;总的来说，Upstart 这种基于事件的启动模式来说，优势是很明显的，很灵活。实质上，改变了linux 以往的runlevel 的模式。&lt;/p&gt;
&lt;p&gt;资料：&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://upstart.ubuntu.com/"&gt;http://upstart.ubuntu.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://labs.chinamobile.com/community/my_blog/225/2804"&gt;http://labs.chinamobile.com/community/my_blog/225/2804&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a class="reference external" href="http://labs.chinamobile.com/community/my_blog/225/2804"&gt;资料2&lt;/a&gt; 中有这么一句话：&lt;/p&gt;
&lt;blockquote&gt;
在/etc/event.d/rc? 文件中定义的rc? 工作会运行/etc/init.d/rc 脚本，这个脚本会运行链接到/etc/rc?.d 目录中的/etc/init.d 中的启动脚本，以模拟SysVinit 的行为。&lt;/blockquote&gt;
&lt;p&gt;实质上，/etc/rc?.d 目录中的文件，是到/etc/init.d 中启动脚本的一个符号链接(ln -s)，终归到底就是在/etc/init.d/ 目录的脚本执行。而这样做，却把/etc/init.d/ 中的脚本归类了，分为由不同的事件来驱动，并且排了个启动顺序。再次 见证linux 的文件管理方式的符号链接模式的便利，和灵活。赞一个～～&lt;/p&gt;
&lt;p&gt;考试好无聊哦，咱想回家 ^_^&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Thu, 08 Jan 2009 00:00:00 +0800</pubDate><guid>tag:antix.blue,2009-01-08:writings/2009/01/08/ubuntu-upstart-event-based-init-daemon/</guid><category>ubuntu</category><category>linux</category></item><item><title>编译并打包deb 安装conky1.6.1</title><link>http://antix.blue/writings/2009/01/02/create-conky-deb-package/</link><description>&lt;p&gt;conky 是我非常喜欢的一款system monitor，官方用一句话来描述conky: A light-weight system monitor。&lt;/p&gt;
&lt;p&gt;ubuntu 8.04 源里的版本是1.5.1，我也用了好久，但总有一些小bug，并且因为是通用deb 的原因，并没有开启$nvidia 的一些信息获取支持(我用的是nvidia，嘿嘿)。刚好在conky 官方看到，最新的稳定版本是1.6.1，fixed 不少bug。 于是乎，自己下载下来编译打包。;-)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo apt-get install libcurl4-openssl-dev   &lt;span class="c"&gt;#这个是--enable-rss需要的库，我用conky来订阅了一些RSS;-)&lt;/span&gt;
sudo apt-get install libxnvctrl-dev     &lt;span class="c"&gt;#这个是 --enable-nvidia需要的库&lt;/span&gt;
&lt;span class="c"&gt;#其他的一些基本需要的库就不列举出来了。比如libx11-dev  ...&lt;/span&gt;
tar -xjvf conky-1.6.1.tar.bz2
&lt;span class="nb"&gt;cd &lt;/span&gt;conky-1.6.1/
./configure --prefix&lt;span class="o"&gt;=&lt;/span&gt;/usr --mandir&lt;span class="o"&gt;=&lt;/span&gt;/usr/share/man --infodir&lt;span class="o"&gt;=&lt;/span&gt;/usr/share/info --datadir&lt;span class="o"&gt;=&lt;/span&gt;/usr/share --sysconfdir&lt;span class="o"&gt;=&lt;/span&gt;/etc --localstatedir&lt;span class="o"&gt;=&lt;/span&gt;/var/lib --enable-xft --enable-dou-ble-buffer --enable-own-window --enable-proc-uptime --enable-mpd --enable-x11 --enable-portmon --enable-nvidia --enable-audacious --enable-rss
make
sudo checkinstall
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这样就可以在本目录下生成一个deb 包，并且自动安装好。&lt;/p&gt;
&lt;p&gt;如果仅仅只想打包，不安装，最后一步这样：checkinstall，不加sudo 就行(权限不够，安装失败，嘿嘿)。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Fri, 02 Jan 2009 00:00:00 +0800</pubDate><guid>tag:antix.blue,2009-01-02:writings/2009/01/02/create-conky-deb-package/</guid><category>conky</category><category>debian</category><category>ubuntu</category><category>linux</category></item><item><title>FCK plugins 代码高亮插件 for Z-blog</title><link>http://antix.blue/writings/2008/12/08/fckeditor-plugin-code-highlighter-for-zblog/</link><description>&lt;!--  --&gt;
&lt;p&gt;其实我很早之前就开始弄上这个了，用了6个多月，也一直没发出来… 太懒了：)&lt;/p&gt;
&lt;p&gt;昨天给咱的Z-blog 升级到最新版本，一不注意，把我很多修改过的东西直接覆盖了，其中就包括这个InsertCode 代码高亮插件。在本地弄了一会儿，发现全忘记了，那个汗啊… 看来还是记下来比较好。&lt;/p&gt;
&lt;p&gt;首先把insertcode 整个文件夹放在FCK的plugins 文件夹下，在Z-blog 里就是~/admin/FCKeditor/editor/plugins 。然后把fck_editorarea.css 复制到FCKeditor/editor/css 下，直接覆盖。修改FCKeditor/fckconfig.js 文件，在 &lt;code class="js"&gt;&lt;span class="nx"&gt;FCKConfig&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;Plugins&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;Add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="err"&gt;‘&lt;/span&gt;&lt;span class="nx"&gt;Media&lt;/span&gt;&lt;span class="err"&gt;’&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="err"&gt;‘&lt;/span&gt;&lt;span class="nx"&gt;zh&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;cn&lt;/span&gt;&lt;span class="err"&gt;’&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;&lt;/code&gt; 下面加上如下一行：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;FCKConfig&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;Plugins&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;Add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;insertcode&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后修改FCKConfig.ToolbarSets，如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;FCKConfig&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;ToolbarSets&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Default&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Source&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;FontName&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;FontSize&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;TextColor&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;BGColor&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Image&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Media&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Flash&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Table&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Smiley&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;SpecialChar&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ShowBlocks&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Preview&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;FitWindow&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PasteText&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Templates&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Find&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;RemoveFormat&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Undo&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Redo&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Bold&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Italic&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Underline&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;StrikeThrough&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;OrderedList&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;UnorderedList&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Outdent&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Indent&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Blockquote&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;JustifyLeft&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;JustifyCenter&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;JustifyRight&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Link&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Unlink&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Rule&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Subscript&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Superscript&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;InsertCode&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;   &lt;span class="c1"&gt;// No comma for the last row.&lt;/span&gt;
&lt;span class="p"&gt;];&lt;/span&gt;

&lt;span class="nx"&gt;FCKConfig&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;ToolbarSets&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Basic&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Source&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Bold&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Italic&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;TextColor&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Image&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Link&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;InsertCode&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;];&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;最后，千万别忘记修改FCKeditor/editor/lang 下的语言文件，我就是忘记这个了。在语言文件（zh-cn.js &amp;amp; en.js）里修改如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;// About Dialog&lt;/span&gt;
&lt;span class="nx"&gt;DlgAboutAboutTab&lt;/span&gt;    &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;关于&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="nx"&gt;DlgAboutBrowserInfoTab&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;浏览器信息&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="nx"&gt;DlgAboutLicenseTab&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;许可证&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="nx"&gt;DlgAboutVersion&lt;/span&gt;     &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;版本&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="nx"&gt;DlgAboutInfo&lt;/span&gt;        &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;要获得更多信息请访问 &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="nx"&gt;InsertCodeBtn&lt;/span&gt;   &lt;span class="o"&gt;:&lt;/span&gt;   &lt;span class="s2"&gt;&amp;quot;插入代码&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;最后，在模板文件里加上：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;link&lt;/span&gt; &lt;span class="na"&gt;rel=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;stylesheet&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/admin/FCKeditor/editor/plugins/insertcode/insertcode.css&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;OK 了，清空浏览器的缓存，开始FCK编辑吧.. ～～&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Mon, 08 Dec 2008 00:00:00 +0800</pubDate><guid>tag:antix.blue,2008-12-08:writings/2008/12/08/fckeditor-plugin-code-highlighter-for-zblog/</guid><category>hack</category><category>zblog</category><category>fck</category></item><item><title>内核升级到2.6.24-22声卡失效</title><link>http://antix.blue/writings/2008/11/28/linux-kernel-2.6.24-22-audio-device-lost/</link><description>&lt;p&gt;今天遇到了一件非常奇怪的事情。先是mirror.lupaworld.com 的源提示内核升级，升就升呗，自己早就想升了，2.6.24-21的内核对我的系统来说启动太慢了。 可是升级过后，重启系统，声卡就失效了。看了看“音效”设置，提示“找不到设备”。晕… 看来驱动没加载。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Xuange@r:~/桌面&lt;span class="nv"&gt;$ &lt;/span&gt;sudo lshw -C sound
&lt;span class="o"&gt;[&lt;/span&gt;sudo&lt;span class="o"&gt;]&lt;/span&gt; password &lt;span class="k"&gt;for&lt;/span&gt; Xuange:
    *-multimedia
        description: Audio device
        product: MCP65 High Definition Audio
        vendor: nVidia Corporation
        physical id: 7
        bus info: pci@0000:00:07.0
        version: a1
        width: &lt;span class="m"&gt;32&lt;/span&gt; bits
        clock: 66MHz
        capabilities: pm msi ht bus_master cap_list
        configuration: &lt;span class="nv"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;HDA Intel &lt;span class="nv"&gt;latency&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="nv"&gt;maxlatency&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt; &lt;span class="nv"&gt;mingnt&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="nv"&gt;module&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;snd_hda_intel
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;sudo lshw -C sound 能找到设备。那就是内核加载驱动的事情了。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Xuange@r:~/桌面&lt;span class="nv"&gt;$ &lt;/span&gt;dpkg -l linux-ubuntu*
    &lt;span class="nv"&gt;Desired&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;Unknown/Install/Remove/Purge/Hold
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Status&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;Not/Installed/Config-f/Unpacked/Failed-cfg/Half-inst/t-aWait/T-pend
    &lt;span class="p"&gt;|&lt;/span&gt;/ Err?&lt;span class="o"&gt;=(&lt;/span&gt;none&lt;span class="o"&gt;)&lt;/span&gt;/Hold/Reinst-required/X&lt;span class="o"&gt;=&lt;/span&gt;both-problems &lt;span class="o"&gt;(&lt;/span&gt;Status,Err: &lt;span class="nv"&gt;uppercase&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;bad&lt;span class="o"&gt;)&lt;/span&gt;
    &lt;span class="o"&gt;||&lt;/span&gt;/ 名称         版本         简介
    +++-&lt;span class="o"&gt;==============&lt;/span&gt;-&lt;span class="o"&gt;==============&lt;/span&gt;-&lt;span class="o"&gt;============================================&lt;/span&gt;
    rc  linux-ubuntu-m 2.6.22-14.38   Ubuntu supplied Linux modules &lt;span class="k"&gt;for&lt;/span&gt; version 2.
    rc  linux-ubuntu-m 2.6.24-20.29   Ubuntu supplied Linux modules &lt;span class="k"&gt;for&lt;/span&gt; version 2.
    ii  linux-ubuntu-m 2.6.24-21.33   Ubuntu supplied Linux modules &lt;span class="k"&gt;for&lt;/span&gt; version 2.
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;晕，竟然没有2.6.24-22内核对应的modules 包。太奇怪了，以前自动升级内核从来没遇到过少一个modules 包的情况。&lt;/p&gt;
&lt;p&gt;自己安装上：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Xuange@r:~/桌面&lt;span class="nv"&gt;$ &lt;/span&gt;sudo apt-get install linux-ubuntu-modules-2.6.24-22-generic
    正在读取软件包列表... 完成
    正在分析软件包的依赖关系树
    读取状态信息... 完成
    下列【新】软件包将被安装：
    linux-ubuntu-modules-2.6.24-22-generic
    共升级了 &lt;span class="m"&gt;0&lt;/span&gt; 个软件包，新安装了 &lt;span class="m"&gt;1&lt;/span&gt; 个软件包，要卸载 &lt;span class="m"&gt;0&lt;/span&gt; 个软件包，有 &lt;span class="m"&gt;0&lt;/span&gt; 个软件未被升级。
    需要下载 5433kB 的软件包。
    操作完成后，会消耗掉 17.2MB 的额外磁盘空间。
    获取：1 http://mirror.lupaworld.com hardy-security/main linux-ubuntu-modules-2.6.24-22-generic 2.6.24-22.35 &lt;span class="o"&gt;[&lt;/span&gt;5433kB&lt;span class="o"&gt;]&lt;/span&gt;
    下载 5433kB，耗时 7s &lt;span class="o"&gt;(&lt;/span&gt;689kB/s&lt;span class="o"&gt;)&lt;/span&gt;
    选中了曾被取消选择的软件包 linux-ubuntu-modules-2.6.24-22-generic。
    &lt;span class="o"&gt;(&lt;/span&gt;正在读取数据库 ... 系统当前总共安装有 &lt;span class="m"&gt;127301&lt;/span&gt; 个文件和目录。&lt;span class="o"&gt;)&lt;/span&gt;
    正在解压缩 linux-ubuntu-modules-2.6.24-22-generic &lt;span class="o"&gt;(&lt;/span&gt;从 .../linux-ubuntu-modules-2.6.24-22-generic_2.6.24-22.35_i386.deb&lt;span class="o"&gt;)&lt;/span&gt; ...
    正在设置 linux-ubuntu-modules-2.6.24-22-generic &lt;span class="o"&gt;(&lt;/span&gt;2.6.24-22.35&lt;span class="o"&gt;)&lt;/span&gt; ...
    update-initramfs: Generating /boot/initrd.img-2.6.24-22-generic
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;重启系统，OK恢复正常！以后升级内核，一定要看清楚升级包有哪里，掉了没…&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Fri, 28 Nov 2008 00:00:00 +0800</pubDate><guid>tag:antix.blue,2008-11-28:writings/2008/11/28/linux-kernel-2.6.24-22-audio-device-lost/</guid><category>ubuntu</category><category>linux</category><category>kernel</category></item><item><title>Discuz! 6.x/7.x SODB-2008-13 Check</title><link>http://antix.blue/writings/2008/11/17/discuz-6.x-7.x-sodb-2008-13-bash-check/</link><description>&lt;p&gt;好吧，我承认上个周末，我并没有像往常一样玩一整天的PES2009。实际上在星期六，我用早上的时间看了正则，下午写下了Discuz! 6.x/7.x SODB-2008-13 Check，这个东东。在我写的前一天heige 发布了exp，不得不说这个是对我的一个诱惑。因为很久没看到DZ 出这么严重的洞洞了 :(&lt;/p&gt;
&lt;p&gt;说明一下，这不是首发，写出来的那天就被一个朋友在他的blog 上发出来了。不过，发出来只是一个“bug”版本，比如说抓取的结果并不是很好，还有关于google 自动处理机的一些问题。主要的是，并没有整合那个exp，整合的当然不能乱发了。我还是把这个“bug”代码帖一下，记录一下。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;

&lt;span class="c"&gt;# Discuz! 6.x/7.x SODB-2008-13 Check&lt;/span&gt;
&lt;span class="c"&gt;# 文件中google_page_count 参数是 google 搜索结果的页数，大于0就可以，太大了，google 会认为是自动机而停止处理！&lt;/span&gt;
&lt;span class="c"&gt;# 如果修改了搜索的关键字，抓取链接需自行处理，本脚本只是简单测试&lt;/span&gt;
&lt;span class="c"&gt;#&lt;/span&gt;
&lt;span class="c"&gt;#                              date: 11.15.2008&lt;/span&gt;


&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
   cat &amp;lt; &amp;lt; HELP
&lt;span class="c"&gt;#===================================================#&lt;/span&gt;
Discuz! 6.x/7.x SODB-2008-13 Check
+---------------------------------------------------------+
USAGE: dzcheck &lt;span class="o"&gt;[&lt;/span&gt;-h&lt;span class="o"&gt;]&lt;/span&gt; google_page_count
OPTIONS: -h &lt;span class="nb"&gt;help &lt;/span&gt;text
EXAMPLE: ./dzcheck 10
+---------------------------------------------------------+
                                date: 11.15.2008
&lt;span class="c"&gt;#===================================================#&lt;/span&gt;

HELP
   &lt;span class="nb"&gt;exit &lt;/span&gt;0
&lt;span class="o"&gt;}&lt;/span&gt;

error&lt;span class="o"&gt;()&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
   &lt;span class="c"&gt;# print an error and exit&lt;/span&gt;
   &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
   &lt;span class="nb"&gt;exit &lt;/span&gt;1
&lt;span class="o"&gt;}&lt;/span&gt;

&lt;span class="c"&gt;# the main&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$#&amp;quot;&lt;/span&gt;&lt;span class="s2"&gt; -lt 1 ]; then&lt;/span&gt;
&lt;span class="s2"&gt;    help&lt;/span&gt;
&lt;span class="s2"&gt;fi&lt;/span&gt;

&lt;span class="s2"&gt;while [ -n &amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; ]; do&lt;/span&gt;
&lt;span class="s2"&gt;case &lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt; in&lt;/span&gt;
&lt;span class="s2"&gt;   -h) help;shift;; # function help is called&lt;/span&gt;
&lt;span class="s2"&gt;   --) shift;break;; # end of options&lt;/span&gt;
&lt;span class="s2"&gt;   -*) error &amp;quot;&lt;/span&gt;error: no such option &lt;span class="nv"&gt;$1&lt;/span&gt;. -h &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;;;&lt;/span&gt;
&lt;span class="s2"&gt;   *) break;;&lt;/span&gt;
&lt;span class="s2"&gt;esac&lt;/span&gt;
&lt;span class="s2"&gt;done&lt;/span&gt;

&lt;span class="s2"&gt;countPage=0&lt;/span&gt;
&lt;span class="s2"&gt;flag=0&lt;/span&gt;
&lt;span class="s2"&gt;while [ &amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$flag&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; -lt &amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; ]; do&lt;/span&gt;
&lt;span class="s2"&gt;    wget --no-cookies --user-agent=&amp;quot;&lt;/span&gt;Mozilla/4.0 &lt;span class="o"&gt;(&lt;/span&gt;compatible&lt;span class="p"&gt;;&lt;/span&gt; MSIE 7.0&lt;span class="p"&gt;;&lt;/span&gt; Windows NT 6.0&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; --referer=&amp;quot;&lt;/span&gt;http://www.google.cn&lt;span class="s2"&gt;&amp;quot;  &amp;quot;&lt;/span&gt;http://www.google.cn/search?hl&lt;span class="o"&gt;=&lt;/span&gt;zh-CN&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nv"&gt;newwindow&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nv"&gt;q&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;inurl:bbs/wap/index.php+Powered+by+Discuz!&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nv"&gt;start&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$countPage&lt;/span&gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nv"&gt;sa&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;N&lt;span class="s2"&gt;&amp;quot;  -O /tmp/t_url -T 7 -t 4&lt;/span&gt;
&lt;span class="s2"&gt;    for url in &lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;sed &lt;span class="s1"&gt;&amp;#39;s_&amp;lt;p&amp;gt;&amp;lt;a [^&amp;gt;]*href=&amp;quot;[^&amp;quot;]\+\/index\.php\?_\n&amp;amp;\n_g&amp;#39;&lt;/span&gt; /tmp/t_url &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s2"&gt;&amp;quot;&amp;lt;p&amp;gt;&amp;lt;a href=&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; awk -F&lt;span class="s2"&gt;&amp;quot;\&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{print $2}&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&lt;/span&gt;
&lt;span class="s2"&gt;    do&lt;/span&gt;
&lt;span class="s2"&gt;        wget --no-cookies --user-agent=&amp;quot;&lt;/span&gt;Mozilla/4.0 &lt;span class="o"&gt;(&lt;/span&gt;compatible&lt;span class="p"&gt;;&lt;/span&gt; MSIE 7.0&lt;span class="p"&gt;;&lt;/span&gt; Windows NT 6.0&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; --referer=&amp;quot;&lt;/span&gt;http://www.google.cn&lt;span class="s2"&gt;&amp;quot; --post-data=&amp;#39;action=register&amp;#39; -O /tmp/check -T 7 -t 4 &amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$url&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;        if [ &amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;grep &lt;span class="s2"&gt;&amp;quot;email&amp;quot;&lt;/span&gt; /tmp/check &lt;span class="p"&gt;|&lt;/span&gt; wc -l&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; != &amp;quot;&lt;/span&gt;0&lt;span class="s2"&gt;&amp;quot; ]; then&lt;/span&gt;
&lt;span class="s2"&gt;            echo &amp;quot;&lt;/span&gt;OK! &lt;span class="nv"&gt;$url&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;            echo &amp;quot;&lt;/span&gt;OK : &lt;span class="nv"&gt;$url&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; &amp;gt;&amp;gt; urllist&lt;/span&gt;
&lt;span class="s2"&gt;        else&lt;/span&gt;
&lt;span class="s2"&gt;            echo &amp;quot;&lt;/span&gt;NO! &lt;span class="nv"&gt;$url&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;        fi&lt;/span&gt;
&lt;span class="s2"&gt;    done&lt;/span&gt;
&lt;span class="s2"&gt;    countPage=&lt;/span&gt;&lt;span class="k"&gt;$((&lt;/span&gt;&lt;span class="nv"&gt;$countPage&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="k"&gt;))&lt;/span&gt;&lt;span class="s2"&gt;&lt;/span&gt;
&lt;span class="s2"&gt;    flag=&lt;/span&gt;&lt;span class="k"&gt;$((&lt;/span&gt;&lt;span class="nv"&gt;$flag&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="k"&gt;))&lt;/span&gt;&lt;span class="s2"&gt;&lt;/span&gt;
&lt;span class="s2"&gt;done&lt;/span&gt;
&lt;span class="s2"&gt;rm -r /tmp/t_url /tmp/check&lt;/span&gt;
&lt;span class="s2"&gt;echo &amp;quot;&lt;/span&gt;开启WAP注册的结果URL列表保存在当前目录下urllist&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;

&lt;span class="s2"&gt;exit 0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Mon, 17 Nov 2008 00:00:00 +0800</pubDate><guid>tag:antix.blue,2008-11-17:writings/2008/11/17/discuz-6.x-7.x-sodb-2008-13-bash-check/</guid><category>discuz</category><category>security</category><category>poc</category><category>bash</category></item><item><title>signal(sig, function) 系统调用</title><link>http://antix.blue/writings/2008/11/10/signal-function-system-call/</link><description>&lt;!--  --&gt;
&lt;p&gt;在这星期《操作系统实验指导》上看到了这样一个系统调用：&lt;code class="c"&gt;&lt;span class="n"&gt;signal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;function&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/code&gt;，呵呵，很好奇，因为每次这课的系统调用都说得很不清楚，连函数原型也没有。所以导致很多同学写的(也可能是抄的..)程序编译不成功，即使编译成功了程序也出错。&lt;/p&gt;
&lt;p&gt;于是翻了翻书，书上说这个系统调用的函数原型是 &lt;code class="c"&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;signal&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;sig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/code&gt;，更是一惊，这样的函数原型在学校这种SB 课本上是很少见的，可能有些同学看都看不懂，更别说，好好的调用了。当然 &lt;code class="c"&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;signal&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt; 头文件(跟进去看看就知道了，老外还真细心)为代码用户解决了 &lt;code class="c"&gt;&lt;span class="n"&gt;conversion&lt;/span&gt; &lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="err"&gt;‘&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;’&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="err"&gt;’&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;’&lt;/span&gt;&lt;/code&gt; 这样的问题，虽然能成功编译文件，但编译时照样会出现警告！&lt;/p&gt;
&lt;p&gt;当然如果你认为“警告”无关紧要的话，你就去死吧。0 warning，0 error ，才是我的追求。&lt;/p&gt;
&lt;p&gt;&lt;code class="c"&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;signal&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;sig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/code&gt; 的原型其实是这样的 &lt;code class="c"&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/code&gt;，有点熟悉了吧？再深入一点 &lt;code class="c"&gt;&lt;span class="n"&gt;signal&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;sig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;/code&gt;，会引出一个问题，如果 &lt;code class="c"&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;/code&gt; 函数是 &lt;code class="c"&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/code&gt; 的怎么办？很多人一不小心就会写成这样。需要强制转换对吧？应该出现ERROR，但为什么，还能编译成功呢？进去 &lt;code class="c"&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;signal&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt; 头文件看看，在75行：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cm"&gt;/* Type of a signal handler.  */&lt;/span&gt;
&lt;span class="k"&gt;typedef&lt;/span&gt; &lt;span class="nf"&gt;void&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="kt"&gt;__sighandler_t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;extern&lt;/span&gt; &lt;span class="kt"&gt;__sighandler_t&lt;/span&gt; &lt;span class="n"&gt;__sysv_signal&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;__sig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;__sighandler_t&lt;/span&gt; &lt;span class="n"&gt;__handler&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="n"&gt;__THROW&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;原来人家都把强制转换做好了的。
我们也可以这样，显示的强制转换：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;signal&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SIGINT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="cm"&gt;/* 或者可读性好一些的：*/&lt;/span&gt;
&lt;span class="k"&gt;typedef&lt;/span&gt; &lt;span class="nf"&gt;void&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="kt"&gt;func_t&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="n"&gt;signal&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SIGINT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;func_t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;好了，现在来对这个typedef 进行理解吧，直接看《THE C PROGRAMMING LANGUAGE》 Page.147&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;typedef&lt;/span&gt; &lt;span class="nf"&gt;int&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;PFI&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="cm"&gt;/*&lt;/span&gt;
&lt;span class="cm"&gt; * creates the type PFI, for &amp;#39;&amp;#39;pointer to function (of two char * arguments) returning int,&amp;#39;&amp;#39; which can be used in contexts like&lt;/span&gt;
&lt;span class="cm"&gt; * PFI strcmp, numcmp;&lt;/span&gt;
&lt;span class="cm"&gt; */&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;现在应该完全理解这个 &lt;code class="c"&gt;&lt;span class="n"&gt;signal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;function&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/code&gt; 系统调用了吧。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Mon, 10 Nov 2008 00:00:00 +0800</pubDate><guid>tag:antix.blue,2008-11-10:writings/2008/11/10/signal-function-system-call/</guid><category>c</category><category>program</category></item><item><title>linux 下mp3 显示乱码</title><link>http://antix.blue/writings/2008/09/28/linux-remove-mp3-id3-tag/</link><description>&lt;p&gt;我的audacious，还有其他的一些音乐播放器对于一些mp3 的标题一直显示乱码，全是ID3 tag 惹的祸。一气之下，批量删除mp3 的ID3 tag 之。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;

&lt;span class="c"&gt;# 需要安装mid3v2 ， 执行sudo apt-get install python-mutagen&lt;/span&gt;

&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
    cat &lt;span class="s"&gt;&amp;lt;&amp;lt; HELP&lt;/span&gt;
&lt;span class="s"&gt;        deltag -- can delete tag of mp3&lt;/span&gt;

&lt;span class="s"&gt;        USAGE: deltag [-h] folder&lt;/span&gt;
&lt;span class="s"&gt;        OPTIONS: -h help text&lt;/span&gt;
&lt;span class="s"&gt;        EXAMPLE: deltag &amp;quot;/home/Xuange/Music/&amp;quot;&lt;/span&gt;

&lt;span class="s"&gt;        ==&amp;gt;will delete all tag of mp3 from /home/Xuange/Music/  !&lt;/span&gt;
&lt;span class="s"&gt;        (: 能自动遍历所有子目录中的mp3文件。:)&lt;/span&gt;

&lt;span class="s"&gt;    HELP&lt;/span&gt;
    &lt;span class="nb"&gt;exit &lt;/span&gt;0
&lt;span class="o"&gt;}&lt;/span&gt;

error&lt;span class="o"&gt;()&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="c"&gt;# print an error and exit&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
    &lt;span class="nb"&gt;exit &lt;/span&gt;1
&lt;span class="o"&gt;}&lt;/span&gt;

&lt;span class="c"&gt;# the main&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$#&amp;quot;&lt;/span&gt;&lt;span class="s2"&gt; -lt 1 ]; then&lt;/span&gt;
&lt;span class="s2"&gt;    help&lt;/span&gt;
&lt;span class="s2"&gt;fi&lt;/span&gt;

&lt;span class="s2"&gt;while [ -n &amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; ]; do&lt;/span&gt;
&lt;span class="s2"&gt;    case &lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt; in&lt;/span&gt;
&lt;span class="s2"&gt;        -h) help;shift;; # function help is called&lt;/span&gt;
&lt;span class="s2"&gt;        --) shift;break;; # end of options&lt;/span&gt;
&lt;span class="s2"&gt;        -*) error &amp;quot;&lt;/span&gt;error: no such option &lt;span class="nv"&gt;$1&lt;/span&gt;. -h &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;;;&lt;/span&gt;
&lt;span class="s2"&gt;        *) break;;&lt;/span&gt;
&lt;span class="s2"&gt;    esac&lt;/span&gt;
&lt;span class="s2"&gt;done&lt;/span&gt;

&lt;span class="s2"&gt;if [ -d &amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; ]; then&lt;/span&gt;
&lt;span class="s2"&gt;    echo &amp;quot;&lt;/span&gt;deleting tag of mp3 ....&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;    find &amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; -name &amp;quot;&lt;/span&gt;*.&lt;span class="o"&gt;[&lt;/span&gt;Mm&lt;span class="o"&gt;][&lt;/span&gt;Pp&lt;span class="o"&gt;]&lt;/span&gt;3&lt;span class="s2"&gt;&amp;quot; -type f -print | sed &amp;#39;s/^/&amp;quot;&lt;/span&gt;/&lt;span class="p"&gt;;&lt;/span&gt;s/&lt;span class="nv"&gt;$/&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;#39; | xargs mid3v2 -D&lt;/span&gt;
&lt;span class="s2"&gt;else&lt;/span&gt;
&lt;span class="s2"&gt;    error &amp;quot;&lt;/span&gt;error: no such dir &lt;span class="nv"&gt;$1&lt;/span&gt;. -h &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;fi&lt;/span&gt;

&lt;span class="s2"&gt;exit 0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Sun, 28 Sep 2008 00:00:00 +0800</pubDate><guid>tag:antix.blue,2008-09-28:writings/2008/09/28/linux-remove-mp3-id3-tag/</guid><category>ubuntu</category><category>linux</category><category>mp3</category><category>id3tag</category></item><item><title>不再</title><link>http://antix.blue/writings/2008/08/13/no-more/</link><description>&lt;p&gt;雨水突然的鞭打下来，大地发出连续且持久的声响。像是重锤在鞭打着心脏。每次鞭打声响之后灰尘便被震抖起来，然后又迅速的降落下来。竟是如此的强劲有力。&lt;/p&gt;
&lt;p&gt;青葱过的山丘，已遍地黄沙。落叶消失不见，树木开始枯黄腐烂。空气里糜烂的味道，辛辣的冲刺着。&lt;/p&gt;
&lt;p&gt;一切都不再一样。&lt;/p&gt;
&lt;p&gt;她早已不再是她，他亦不需要再怀念。&lt;/p&gt;
&lt;p&gt;写于2008年8月13日。&lt;/p&gt;
&lt;p&gt;CD：「九份的咖啡店」，窗外，雨。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Wed, 13 Aug 2008 00:00:00 +0800</pubDate><guid>tag:antix.blue,2008-08-13:writings/2008/08/13/no-more/</guid><category>sketch</category></item><item><title>让Apache/WampServer 支持ASP/ASP.NET</title><link>http://antix.blue/writings/2008/07/22/apache-support-for-asp/</link><description>&lt;div class="section" id="x00"&gt;
&lt;h2&gt;0X00 注解&lt;/h2&gt;
&lt;p&gt;本文是基于WampServer 2.X 套件讨论的，但适用于截止到目前为止所有版本的Apache。其实我们也只是对WampServer 中的Apache 模块做了修改，使其能够支持ASP/ASP.NET。本文中Apache版本为2.2.8，WampServer 的目录地址为D:\wamp\ 。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="x01-asp-net"&gt;
&lt;h2&gt;0X01 ASP.NET&lt;/h2&gt;
&lt;p&gt;让Apache 支持ASP.NET 比较简单，使用apache.org 里提供的mod_aspdotnet 即可。地址是：&lt;a class="reference external" href="http://httpd.apache.org/modules/"&gt;http://httpd.apache.org/modules/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;说一下配置：首先下载mod_aspdotnet，然后将其mod_aspdotnet.so 释放到apache 的/modules/ ，如D:\wamp\bin\apache\apache2.2.8\modules。然后，我们需要建立一个mod_aspdotnet 单独的配置文件.conf，如httpd-aspdotnet.conf，写好后放入apache的/conf/extra/中，这样比较规范。&lt;/p&gt;
&lt;p&gt;httpd-aspdotnet.conf，如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# Load asp.net module&lt;/span&gt;
&lt;span class="nb"&gt;LoadModule&lt;/span&gt; aspdotnet_module &lt;span class="s2"&gt;&amp;quot;modules/mod_aspdotnet.so&amp;quot;&lt;/span&gt;

&lt;span class="c"&gt;# Set asp.net extensions&lt;/span&gt;
&lt;span class="nb"&gt;AddHandler&lt;/span&gt; asp.net asax ascx ashx asmx aspx axd config cs csproj licx rem resources resx soap vb vbproj vsdisco webinfo

&lt;span class="c"&gt;# 其中&amp;quot;D:/wamp/www/aspx&amp;quot;  为我们的ASPX 的文件的目录。需自己修改。：）&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;ifmodule&lt;/span&gt; &lt;span class="s"&gt;mod_aspdotnet.cpp&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="c"&gt;# Mount the ASP.NET /ASP application&lt;/span&gt;
    &lt;span class="nb"&gt;AspNetMount&lt;/span&gt; &lt;span class="sx"&gt;/ASP&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;D:/wamp/www/aspx&amp;quot;&lt;/span&gt;

    &lt;span class="c"&gt;# Map all requests for /ASP to the application files&lt;/span&gt;
    &lt;span class="nb"&gt;Alias&lt;/span&gt; &lt;span class="sx"&gt;/ASP&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;D:/wamp/www/aspx&amp;quot;&lt;/span&gt;

    &lt;span class="c"&gt;# Allow asp.net scripts to be executed in the /ASP folder&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;directory&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;D:/wamp/www/aspx&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="c"&gt;# Set asp.net options&lt;/span&gt;
        &lt;span class="nb"&gt;Options&lt;/span&gt; Indexes FollowSymLinks Includes +ExecCGI
        &lt;span class="c"&gt;# Set asp.net permissions&lt;/span&gt;
        &lt;span class="nb"&gt;Order&lt;/span&gt; allow,deny
        &lt;span class="nb"&gt;Allow&lt;/span&gt; from &lt;span class="k"&gt;all&lt;/span&gt;
        &lt;span class="c"&gt;# Set asp.net default index page to .aspx and .htm&lt;/span&gt;
        &lt;span class="nb"&gt;DirectoryIndex&lt;/span&gt; index.aspx index.htm
    &lt;span class="nt"&gt;&amp;lt;/directory&amp;gt;&lt;/span&gt;

    &lt;span class="c"&gt;# Set aspnet_client files to serve the client-side helper scripts.  这里为我们的ASP.NET_Framework 的安装地址，需自己修改。&lt;/span&gt;
    &lt;span class="nb"&gt;AliasMatch&lt;/span&gt; &lt;span class="sx"&gt;/aspnet_client/system_web/&lt;/span&gt;(\d+)_(\d+)_(\d+)_(\d+)/(.*) &lt;span class="s2"&gt;&amp;quot;C:/WINDOWS/Microsoft.NET/Framework/v3.5/ASP.NETClientFiles/$4&amp;quot;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;directory&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;C:/WINDOWS/Microsoft.NET/Framework/v3.5/ASP.NETClientFiles&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nb"&gt;Options&lt;/span&gt; FollowSymlinks
        &lt;span class="nb"&gt;Order&lt;/span&gt; allow,deny
        &lt;span class="nb"&gt;Allow&lt;/span&gt; from &lt;span class="k"&gt;all&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/directory&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/ifmodule&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这样写好httpd-aspdotnet.conf 后放入apache的/conf/extra/中，然后修改apache 的主配置文件/conf/httpd.conf 在其中适当位置加入代码：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# ASP.net ，写在httpd.conf 最后适当的位置。只是为了规范。&lt;/span&gt;
&lt;span class="nb"&gt;Include&lt;/span&gt; conf/extra/httpd-aspdotnet.conf
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后，重启apache，现在/www/aspx/目录已经可以解析.aspx 文件了。：）&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="x02-asp"&gt;
&lt;h2&gt;0X02 ASP&lt;/h2&gt;
&lt;p&gt;让Apache 完美的支持asp，目前网上也没有好的解决办法，很多东西都还是商业的，以前有个mod 可以用，但只能用在apache1.X 上，很老的东西了。我找寻了很久也没有找到免费的解决办法。无意间得知phpnow 有个插件可以支持asp，马上下载下来玩了一下，终于成功让这个插件脱离phpnow，使其支持任意的Apache。其实phpnow 也是提取了试用版的ActiveHTML，效果还不错，我比较满意。&lt;/p&gt;
&lt;p&gt;过程如下：首先下载这个phpnow 版的ActiveHTML，释放在一个适合的位置，如D:\wamp\bin\ActiveHTML\ ，ActiveHTML 需要注册几个.dll，运行CMD 在ActiveHTML 目录，执行如下命令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;# CMD 进入ActiveHTML目录，执行如下命令
regsvr&lt;span class="m"&gt;32&lt;/span&gt;.exe &lt;span class="n"&gt;/s&lt;/span&gt; slASP&lt;span class="m"&gt;3&lt;/span&gt;.dll
regsvr&lt;span class="m"&gt;32&lt;/span&gt;.exe &lt;span class="n"&gt;/s&lt;/span&gt; slDispatch.dll
regsvr&lt;span class="m"&gt;32&lt;/span&gt;.exe &lt;span class="n"&gt;/s&lt;/span&gt; MSXML&lt;span class="m"&gt;4&lt;/span&gt;.dll
regsvr&lt;span class="m"&gt;32&lt;/span&gt;.exe &lt;span class="n"&gt;/s&lt;/span&gt; MSXML&lt;span class="m"&gt;4&lt;/span&gt;R.dll
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后，同样的我们需要为ActiveHTML 写一个配置文件.conf，如httpd-ahtml.conf，如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;##################################################&lt;/span&gt;
&lt;span class="c"&gt;#   Uncomment the following lines if you want&lt;/span&gt;
&lt;span class="c"&gt;#   to use Authorization environment-variables&lt;/span&gt;
&lt;span class="c"&gt;#   You may implement you own user&lt;/span&gt;
&lt;span class="c"&gt;#   authentication using LOGON_USER and&lt;/span&gt;
&lt;span class="c"&gt;#   LOGON_PASSWORD in your scripts (Login.asp)&lt;/span&gt;
&lt;span class="c"&gt;##################################################&lt;/span&gt;
&lt;span class="nb"&gt;LoadModule&lt;/span&gt; rewrite_module modules/mod_rewrite.so
&lt;span class="nb"&gt;RewriteEngine&lt;/span&gt; &lt;span class="k"&gt;On&lt;/span&gt;
&lt;span class="nb"&gt;RewriteCond&lt;/span&gt;     %{HTTP:Authorization}   ^(.*)$ [NC]
&lt;span class="nb"&gt;RewriteRule&lt;/span&gt;     /.*             -       [E=HTTP_AUTHORIZATION:%1]
&lt;span class="c"&gt;##################################################&lt;/span&gt;

&lt;span class="c"&gt;# Supports Imagemaps&lt;/span&gt;
&lt;span class="nb"&gt;AddHandler&lt;/span&gt; imap-file map

&lt;span class="c"&gt;##################################################&lt;/span&gt;
&lt;span class="c"&gt;#   Do not allow access to global.asa&lt;/span&gt;
&lt;span class="c"&gt;##################################################&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;files&lt;/span&gt; &lt;span class="s"&gt;~ &amp;quot;global.asa&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nb"&gt;Order&lt;/span&gt; allow,deny
    &lt;span class="nb"&gt;Deny&lt;/span&gt; from &lt;span class="k"&gt;all&lt;/span&gt;
    &lt;span class="nb"&gt;Satisfy&lt;/span&gt; &lt;span class="k"&gt;All&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/files&amp;gt;&lt;/span&gt;

&lt;span class="c"&gt;##################################################&lt;/span&gt;
&lt;span class="c"&gt;#   Add ActiveHTML-Handler  其中”D:/wamp/bin/ActiveHTML“ 为ActiveHTML释放的目录，需自己修改。&lt;/span&gt;
&lt;span class="c"&gt;##################################################&lt;/span&gt;
&lt;span class="nb"&gt;ScriptAlias&lt;/span&gt; &lt;span class="sx"&gt;/asp_bin&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;D:/wamp/bin/ActiveHTML&amp;quot;&lt;/span&gt;
&lt;span class="nb"&gt;Action&lt;/span&gt; ActiveHTML &lt;span class="s2"&gt;&amp;quot;/asp_bin/AHTML.exe&amp;quot;&lt;/span&gt;
&lt;span class="nb"&gt;AddHandler&lt;/span&gt; ActiveHTML .asp
&lt;span class="nb"&gt;DirectoryIndex&lt;/span&gt; index.asp default.asp

&lt;span class="c"&gt;##################################################&lt;/span&gt;
&lt;span class="c"&gt;#   Add Sampledirectory Alias  其中&amp;quot;D:/wamp/www/asp/&amp;quot;为asp文件所在的目录，需自己修改。&lt;/span&gt;
&lt;span class="c"&gt;##################################################&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;directory&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;D:/wamp/bin/ActiveHTML&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nb"&gt;Options&lt;/span&gt; Indexes MultiViews FollowSymLinks
    &lt;span class="nb"&gt;AllowOverride&lt;/span&gt; &lt;span class="k"&gt;None&lt;/span&gt;
    &lt;span class="nb"&gt;Order&lt;/span&gt; allow,deny
    &lt;span class="nb"&gt;Allow&lt;/span&gt; from &lt;span class="k"&gt;all&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/directory&amp;gt;&lt;/span&gt;

&lt;span class="nb"&gt;Alias&lt;/span&gt; &lt;span class="sx"&gt;/asp/&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;D:/wamp/www/asp/&amp;quot;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;directory&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;D:/wamp/www/asp/&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nb"&gt;Options&lt;/span&gt; Indexes MultiViews FollowSymLinks
    &lt;span class="nb"&gt;AllowOverride&lt;/span&gt; &lt;span class="k"&gt;all&lt;/span&gt;
    &lt;span class="nb"&gt;Order&lt;/span&gt; allow,deny
    &lt;span class="nb"&gt;Allow&lt;/span&gt; from &lt;span class="k"&gt;all&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/directory&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;同样的，在apache的主配置文件httpd.conf 里适当的位置加入代码：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# ASP ，写在httpd.conf 最后适当的位置。只是为了规范。&lt;/span&gt;
&lt;span class="nb"&gt;Include&lt;/span&gt; conf/extra/httpd-ahtml.conf
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后，重启apache，现在/www/asp/目录已经可以解析.asp 文件了。：）&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="x03-ps"&gt;
&lt;h2&gt;0X03 PS&lt;/h2&gt;
&lt;p&gt;文章本来很早就打算写，从考试前一直拖到放假。也很久没跟新这个Time.log。于是乎，在这个安静的夜晚，终于写下了这个早就打算写的文章。晚安 ～～&lt;/p&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Tue, 22 Jul 2008 00:00:00 +0800</pubDate><guid>tag:antix.blue,2008-07-22:writings/2008/07/22/apache-support-for-asp/</guid><category>apache</category><category>asp</category><category>wamp</category><category>.net</category></item><item><title>看完「Last Day」</title><link>http://antix.blue/writings/2008/05/05/kurt-last-day/</link><description>&lt;p&gt;看完「Last Day」，心里没太多的想法。关于Nirvana，人们本不应该去讨论得太多。试图去解读一个人的内心，是否能真的看到什么？细腻的叙述，反而，或许可以抵达某处。&lt;/p&gt;
&lt;p&gt;「Last Day」，与其说是关于Nirvana，不如说是在尽力的去描述Kurt，这是死亡的后期。当所有的东西，都离开他而去，或许说是他自己的内心已经无法去接受任何全部时，音乐和死亡成为了他最后的衣钵。他不停的自言自语，不停的...&lt;/p&gt;
&lt;p&gt;他不停的写着什么，然后幻觉充满了脑子。&lt;/p&gt;
&lt;p&gt;我想，这就是死亡。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Mon, 05 May 2008 00:00:00 +0800</pubDate><guid>tag:antix.blue,2008-05-05:writings/2008/05/05/kurt-last-day/</guid><category>nirvana</category><category>rock</category><category>kurt</category><category>music</category></item><item><title>Ubuntu 8.04 Realtek 8168/8111 网卡不能上网解决办法</title><link>http://antix.blue/writings/2008/04/28/ubuntu-8.04-realtek-8168-8111-nic-driver/</link><description>&lt;!--  --&gt;
&lt;blockquote&gt;
2008年10月16日：官方已经修复了网卡驱动的问题。&lt;/blockquote&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;一、确定你也遭受同样的问题&lt;/h2&gt;
&lt;p&gt;确定你的网卡为Realtek 8168/8111网卡，可用lspci 查看。你的Ubuntu 内核为 2.6.24，似乎现在只有这个内核或者更高内核，出现死活不能上网的问题。包括在Win 下打开wake-on-lan after shutdown 为enable，也不能上网。看看你现在Ubuntu 的网卡驱动是不是r8169，这个驱动对Realtek 8168/8111 竟然不支持，有人在官方提交了BUG 报告了，但现在还没更新。&lt;/p&gt;
&lt;p&gt;并且你试图自己下载8168的驱动，自己安装的时候，出现错误：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;xuange@R-desktop:/usr/src/r8168-8.005.00&lt;span class="nv"&gt;$ &lt;/span&gt;sudo make clean modules
make -C src/ clean
make&lt;span class="o"&gt;[&lt;/span&gt;1&lt;span class="o"&gt;]&lt;/span&gt;: Entering directory &lt;span class="sb"&gt;`&lt;/span&gt;/usr/src/r8168-8.005.00/src&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;
&lt;span class="s1"&gt;rm -rf *.o *.ko *~ core* .dep* .*.d .*.cmd *.mod.c *.a *.s .*.flags .tmp_versions Module.symvers Modules.symvers rset&lt;/span&gt;
&lt;span class="s1"&gt;make[1]: Leaving directory `/usr/src/r8168-8.005.00/src&amp;#39;&lt;/span&gt;
make -C src/ modules
make&lt;span class="o"&gt;[&lt;/span&gt;1&lt;span class="o"&gt;]&lt;/span&gt;: Entering directory &lt;span class="sb"&gt;`&lt;/span&gt;/usr/src/r8168-8.005.00/src&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;
&lt;span class="s1"&gt;make -C /lib/modules/2.6.24-12-generic/build SUBDIRS=/src modules&lt;/span&gt;
&lt;span class="s1"&gt;make[2]: Entering directory `/usr/src/linux-headers-2.6.24-12-generic&amp;#39;&lt;/span&gt;
scripts/Makefile.build:41: /src/Makefile: No such file or directory
make&lt;span class="o"&gt;[&lt;/span&gt;3&lt;span class="o"&gt;]&lt;/span&gt;: *** No rule to make target &lt;span class="sb"&gt;`&lt;/span&gt;/src/Makefile&lt;span class="s1"&gt;&amp;#39;. Stop.&lt;/span&gt;
&lt;span class="s1"&gt;make[2]: *** [_module_/src] Error 2&lt;/span&gt;
&lt;span class="s1"&gt;make[2]: Leaving directory `/usr/src/linux-headers-2.6.24-12-generic&amp;#39;&lt;/span&gt;
make&lt;span class="o"&gt;[&lt;/span&gt;1&lt;span class="o"&gt;]&lt;/span&gt;: *** &lt;span class="o"&gt;[&lt;/span&gt;modules&lt;span class="o"&gt;]&lt;/span&gt; Error 2
make&lt;span class="o"&gt;[&lt;/span&gt;1&lt;span class="o"&gt;]&lt;/span&gt;: Leaving directory &lt;span class="sb"&gt;`&lt;/span&gt;/usr/src/r8168-8.005.00/src&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;
make: *** &lt;span class="o"&gt;[&lt;/span&gt;modules&lt;span class="o"&gt;]&lt;/span&gt; Error 2
xuange@R-desktop:/usr/src/r8168-8.005.00&lt;span class="err"&gt;$&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;现在，如果像我所说的一样，很不幸，你和我们一样，遇到了这个问题。 :(&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;二、解决办法&lt;/h2&gt;
&lt;p&gt;你需要安装一个patch 软件包，可以叫别人下了后拷贝给你：&lt;a class="reference external" href="http://forum.ubuntu.org.cn/download/file.php?id=32364&amp;amp;sid=2ada0f5b55bf226cab872bef441a6412"&gt;r8168-8.005.00版本驱动的Patch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;下载Realtek 8168/8111网卡官方文件驱动，同样可以叫别人下了后拷贝给你，地址：
&lt;a class="reference external" href="http://www.realtek.com.tw/downloads/downloadsView.aspx?Langid=1&amp;amp;PNid=13&amp;amp;PFid=5&amp;amp;Level=5&amp;amp;Conn=4&amp;amp;DownTypeID=3&amp;amp;GetDown=false"&gt;http://www.realtek.com.tw/downloads/downloadsView.aspx?Langid=1&amp;amp;PNid=13&amp;amp;PFid=5&amp;amp;Level=5&amp;amp;Conn=4&amp;amp;DownTypeID=3&amp;amp;GetDown=false&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;现在，我们可以动手了，自己编译驱动安装：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;tar xvjf r8168-8.005.00.tar.bz2

&lt;span class="c"&gt;# 解压r8168-8.005.00.tar.bz2后，将补丁文件r8168-8.005.00.hardy.diff.txt，放在./r8168-8.005.00/src 里。&lt;/span&gt;

&lt;span class="nb"&gt;cd&lt;/span&gt; ./r8168-8.005.00/src
patch &amp;lt; r8168-8.005.00.hardy.diff.txt
&lt;span class="nb"&gt;cd&lt;/span&gt; ..
make clean
make modules
sudo make install
sudo depmod -a
sudo insmod ./src/r8168.ko
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;OK！ 不用重启，看看，是不是能上网了？嘿嘿。 :)&lt;/p&gt;
&lt;p&gt;最后，感谢energymomentum 发的补丁文件。期待官方升级驱动...&lt;/p&gt;
&lt;p&gt;补丁来源：&lt;a class="reference external" href="http://ubuntuforums.org/showthread.php?p=4718501"&gt;《r8168 driver patch for 2.6.24 kernel and higher》&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Mon, 28 Apr 2008 00:00:00 +0800</pubDate><guid>tag:antix.blue,2008-04-28:writings/2008/04/28/ubuntu-8.04-realtek-8168-8111-nic-driver/</guid><category>ubuntu</category><category>linux</category></item><item><title>Ubuntu &amp; XP 双系统</title><link>http://antix.blue/writings/2008/03/03/dual-boot-xp-and-ubuntu/</link><description>&lt;!--  --&gt;
&lt;p&gt;现在，我的Ubuntu 7.10 已经很舒服的在我手上运行了。以前用过Ubuntu 6.10，所以从Windows 到Ubuntu  没什么不适应的。这个版本还是变化挺大的，界面越做越好了，和朋友一样，不准备改变默认的主题了，真的很漂亮，很清爽。 由于是第一次装双系统并且在XP 下做GRUB 引导，所以记录下来。&lt;/p&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;在XP 下做GRUB 引导&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;我选择在XP 下做GRUB 引导的原因很简单：如果重装XP 的话，能很方便的再做一次引导，而用Linux 的GRUB 去写MBR 的话，重装XP 后要引导Linux 很麻烦，因为MBR 被XP 重新修改了。&lt;/p&gt;
&lt;p class="last"&gt;我参考了一些资料，决定用GRUB4DOS，下载后只用从压缩包里解压两个文件(grldr 和menu.lst)放在C 盘根目录就可以，然后修改boot.ini 在最后另起一行添加 &lt;code class="bash"&gt;C:&lt;span class="se"&gt;\g&lt;/span&gt;rldr&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Ubuntu 7.10&amp;quot;&lt;/span&gt;&lt;/code&gt;。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;安装Ubuntu&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;具体的步骤就不说了，保证网络顺畅连接就可以(安装过程中要从网络下载安全更新和语言包)，全傻瓜式安装。分区自己注意就可以。&lt;/p&gt;
&lt;p class="last"&gt;重点是，将Linux 的GRUB 安装到根挂载区。如果默认不变，那么前面的GRUB4DOS 就白做了。进行到GRUB 安装界面时，按Advanced，把里面的内容从hd0 改成Ubuntu 所在的分区。接下来就自动安装了，泡杯咖啡吧，嘿嘿。安装完后，重启就可进入Linux 了。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;安装显卡驱动，解决声卡无声&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;要玩比VISTA 还酷的3D 特效，当然要装好显卡的驱动。我的显卡是GF 7300 GT，安装命令如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo cp /etc/X11/xorg.conf /etc/X11/xorg.conf.bak 备份
sudo apt-get install nvidia-glx-new   安装驱动
sudo nvidia-glx-config &lt;span class="nb"&gt;enable&lt;/span&gt;   开启驱动
sudo nvidia-xconfig –add-argb-glx-visuals –composite   开启3D特效
&lt;/pre&gt;&lt;/div&gt;
&lt;!--  --&gt;
&lt;p&gt;我一次性成功。&lt;/p&gt;
&lt;p class="last"&gt;有很多人安装Ubuntu 完毕后，系统没有声音，我的ALC 883 声卡就受影响。我查了很多资料后发现，其实只要：
&lt;code class="bash"&gt;sudo gedit /etc/modprobe.d/alsa-base&lt;/code&gt; 编辑alsa-base 文件，在最后加上一行 &lt;code class="bash"&gt;options snd-hda-intel &lt;span class="nv"&gt;model&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;laptop-automute&lt;/code&gt; 重启就可以了。嘿嘿，Ubuntu 启动时的鼓声还是挺不错的哦。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;其他的一些完善设置&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first last"&gt;其他的就一些，常用的设置了，像播放器呀，字体美化，QQ 等等。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Mon, 03 Mar 2008 00:00:00 +0800</pubDate><guid>tag:antix.blue,2008-03-03:writings/2008/03/03/dual-boot-xp-and-ubuntu/</guid><category>system</category><category>linux</category><category>xp</category><category>ubuntu</category></item><item><title>C 指针两种不常用法</title><link>http://antix.blue/writings/2007/10/28/c-pointers-two-skills/</link><description>&lt;!--  --&gt;
&lt;p&gt;C 语言中，两种不常用的指针用法，及其定义形式：&lt;/p&gt;
&lt;div class="section" id="one"&gt;
&lt;h2&gt;One&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;Print&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="c1"&gt;// 此时，*p 指向一个具有2个元素的一维数组&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;   &lt;span class="c1"&gt;// *p 相当与*arry，代表arry 数组的0行0列的首地址&lt;/span&gt;
    &lt;span class="c1"&gt;// pass&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;arry&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{{&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;},{&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;},{&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;}};&lt;/span&gt; &lt;span class="c1"&gt;// 定义一个arry 二维数组&lt;/span&gt;
    &lt;span class="n"&gt;Print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arry&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;                        &lt;span class="c1"&gt;// 将arry数组的首地址，递交给Print() 函数&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;!--  --&gt;
&lt;p&gt;注：用好了，就简化了对二维数组的调用了哦，仔细想想吧。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="two"&gt;
&lt;h2&gt;Two&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;compare&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// pass&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;// 定义一个指向函数的指针，函数返回值为 int 型&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// pass&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;num1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;num2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;compare&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;          &lt;span class="c1"&gt;// 将compare()函数的 首地址，赋予指针*p&lt;/span&gt;
    &lt;span class="n"&gt;compare&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;num1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;num2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;num1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;num2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;    &lt;span class="c1"&gt;// 此时，(*p)(num1,num2) 与compare(num1,num2) 等价&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;!--  --&gt;
&lt;p&gt;注：若把这种方法用在子函数的函数参数列表中，会有意想不到的好处。&lt;/p&gt;
&lt;p&gt;&lt;code class="c"&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;proccess&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;/code&gt; 想到了什么没有？WoW，通用函数 :)&lt;/p&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Sun, 28 Oct 2007 00:00:00 +0800</pubDate><guid>tag:antix.blue,2007-10-28:writings/2007/10/28/c-pointers-two-skills/</guid><category>c</category><category>program</category></item><item><title>一直一来的，将要改变的</title><link>http://antix.blue/writings/2007/10/23/now-and-change/</link><description>&lt;p&gt;一直一来，这个Blog 记录了我生活上的一些零碎的琐事。从不涉及我的学习，与技术上的事情。努力的保持这个样子，把技术上的与生活的分开。&lt;/p&gt;
&lt;p&gt;现在，我发现我这样做是错误的，因为我的生活包含了技术上的学习，技术同样也包含了生活上的。这是一个道理，就像一枚硬币的两面，紧紧的相帖，却代表了两个方向。我夹在中间，努力的把他们分开，这是不对的，也是不可能的做到的。 为此，我常常的去思考，这样一枚硬币的事情。&lt;/p&gt;
&lt;p&gt;现在，我将会在Blog 上逐渐述说我技术上的一些学习、思考，以及困惑。我的意思是说，这是一个开放性的Blog，上面将会展现我的全部，生活与生活之外的一些事情。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Tue, 23 Oct 2007 00:00:00 +0800</pubDate><guid>tag:antix.blue,2007-10-23:writings/2007/10/23/now-and-change/</guid><category>life</category><category>blog</category></item><item><title>冬忘</title><link>http://antix.blue/writings/2005/12/21/winter/</link><description>&lt;p&gt;脸庞在冷风中开始泛白，用外衣把自己裹得很紧。冬天的寒冷让我变得平静，内心像中世纪荒废的木屋一样空无一物，身体的移动显得缓慢。这犹如小时候用手慢慢摇过幻灯机时所显示出来的画面一样。一张张的闪过，断断续续。&lt;/p&gt;
&lt;p&gt;天空惨白，很难想象在这片惨白的后面会有蓝天。路边的树上依稀的还挂着几片树叶，它们最终会像其他枯黄的叶片那样，在风中飘落大地。一个穿着红色毛线衣的中年妇女坐在木制长凳上，身体微胖，双手带着袖套。面对着不断散发着热气的蒸笼，目光呆滞。这好比死掉的鱼那样漂浮在水上面，眼睛空洞。&lt;/p&gt;
&lt;p&gt;觉得自己正在重复记忆，经历早已经历过的事情。&lt;/p&gt;
&lt;p&gt;写于2005年12月21日。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Wed, 21 Dec 2005 00:00:00 +0800</pubDate><guid>tag:antix.blue,2005-12-21:writings/2005/12/21/winter/</guid><category>sketch</category></item><item><title>天气给我带来了什么</title><link>http://antix.blue/writings/2005/10/09/feeling-from-the-weather/</link><description>&lt;p&gt;回到学校，天气就开始阴沉下来。在寝室从书包里拿出厚厚的课本，才知道自己什么也没看，反而却成了书桌的装饰品。好想走，走得远远的，把书丢进垃圾桶。坐在路旁看着行人，倾听他们的声音，直到自己再也听不见任何的声音。眼前是一片隔膜。&lt;/p&gt;
&lt;p&gt;天空灰白，冷风可以轻易的透过我的皮肤。这样的味道我是喜欢的，心里非常的澄静。不会有一点干燥，能感受一切。躺在床上，没有了熟悉的气味，仿佛所有都被洗掉。就像刚来的新生一样，什么都没发生过，现在只是开始。用被子把自己盖得紧紧的，很快就睡着，小时候睁开双眼，天已经亮了。&lt;/p&gt;
&lt;p&gt;看着这样的天空，和我的记忆一样，冷冷的空白。考试时，很认真的去读每一个字，从未如此的冷静过。把错误的答案写上去时，自己想笑，抬头望窗外，觉得自己不应该坐在这里。飞向天空，什么都已不重要。&lt;/p&gt;
&lt;p&gt;起床时听着歌。听着听着，又会睡着。等着别人叫我，明白快考试了。睡觉时，看着黑黑的天空，想听。喜欢上那样的歌词，就像自己的心情。&lt;/p&gt;
&lt;p&gt;想要的太多，或许事与愿违。&lt;/p&gt;
&lt;p&gt;冬天要来了，好期待。把自己裹得很紧，然后睡去。&lt;/p&gt;
&lt;p&gt;睡去的我，什么也没有。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Sun, 09 Oct 2005 00:00:00 +0800</pubDate><guid>tag:antix.blue,2005-10-09:writings/2005/10/09/feeling-from-the-weather/</guid><category>time</category><category>life</category></item><item><title>忽略</title><link>http://antix.blue/writings/2005/09/06/forgot/</link><description>&lt;p&gt;我是一个容易遗忘的人。&lt;/p&gt;
&lt;p&gt;回忆对我来说只可能是一些无法连续的片段，点点滴滴并且转瞬即逝。写字时能够唤醒它们，思绪让他们在时光的碎片中穿插，结集，拼嵌完整。这和一首歌所带来的回忆是一样的。而这种间歇性的记忆似乎正在被某种东西逐渐侵蚀，最终走向的将是消亡。这就如同水冲洗掉玻璃上的墨汁，不会留下任何痕迹。&lt;/p&gt;
&lt;p&gt;夕日的阳光在文字中显得阴暗，周围的树林变得不再熟悉，年幼时在田埂之间的穿行而过早已模糊不清。记得与遗忘在瞬时之间交融，如原始宇宙般的混沌凌乱。&lt;/p&gt;
&lt;p&gt;写于2005年9月6日。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Tue, 06 Sep 2005 00:00:00 +0800</pubDate><guid>tag:antix.blue,2005-09-06:writings/2005/09/06/forgot/</guid><category>sketch</category></item><item><title>落单</title><link>http://antix.blue/writings/2005/09/01/solitary/</link><description>&lt;p&gt;有些事情自己会害怕去做，心情沉浮，漂浮不定。尽力去避免发生个什么，而又期待着它去发生，宛如一颗小草在风中倒下去而又立起来，在摇摆不定中生存。如此反复的犹豫不定，在心里上演着巨大的哀伤，并随着汗水流泻出来。&lt;/p&gt;
&lt;p&gt;翌日清晨的早霞，更像是即将到来的黄昏，随着太阳的落下在红色的火焰中消亡。连绵群山中树木的早熟，掩盖了这个季节的悲哀，也注定了下个季节的早衰。腐烂的根在泥土中紧紧的深埋，奇花异草用尽一丝力气吸吮着余下的雨水，一切历历在目，并且转瞬即逝。&lt;/p&gt;
&lt;p&gt;贫瘠的荒谷中，遍野黄土。极目望去，树木枯萎。&lt;/p&gt;
&lt;p&gt;这是死亡的后期。&lt;/p&gt;
&lt;p&gt;傅蕾说：“夕阳的余晖照射在每个人都脸庞，看见的人在微笑，看不见的人在悲哀。”。&lt;/p&gt;
&lt;p&gt;写于2005年9月1日。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">r.4ntix Shawn</dc:creator><pubDate>Thu, 01 Sep 2005 00:00:00 +0800</pubDate><guid>tag:antix.blue,2005-09-01:writings/2005/09/01/solitary/</guid><category>sketch</category></item></channel></rss>